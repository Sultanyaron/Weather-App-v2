(this["webpackJsonpherolo-assignment-v2"]=this["webpackJsonpherolo-assignment-v2"]||[]).push([[0],{40:function(e,t,a){e.exports=a.p+"static/media/sunLoading.3d7f5242.png"},42:function(e,t,a){e.exports=a.p+"static/media/celsius.802510af.svg"},43:function(e,t,a){e.exports=a.p+"static/media/fahrenheit.0a3403d1.svg"},46:function(e,t,a){e.exports=a(75)},73:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),i=a.n(c),s=a(5),o=a(15),u=a(8),l=a.n(u),m=a(6),E="FETCH_SEARCH",f="FETCH_CURRENT_WEATHER",y="GET_GEO_LOCATION",d="FETCH_GEO_LOCATION",v="FETCH_FORECAST",p=function(e){return{type:"FETCH_SEARCH_SUCCESS",searchResults:e}},_=function(e,t){return{type:"UPDATE_SELECTED_CITY",cityName:e,cityKey:t}},O=function(){return{type:"FETCH_CURRENT_WEATHER_START"}},b=function(e){return{type:"FETCH_CURRENT_WEATHER_SUCCESS",data:e}},C=function(e){return{type:d,coords:e}},h=function(e,t){return{type:"FETCH_GEO_LOCATION_SUCCESS",cityName:e,cityKey:t}},g=function(){return{type:"FETCH_GEO_LOCATION_FAIL"}},T=function(e){return{type:"FETCH_FORECAST_SUCCESS",data:e}},N=function(){return{type:"FETCH_FORECAST_START"}},S=a(38),j=a.n(S).a.create({baseURL:"https://dataservice.accuweather.com/"}),F="u9RaORaXroYFdUkpSTgfjH3Rs8ETJ2bn",R="https://dataservice.accuweather.com/",x=function(e){return R+"locations/v1/cities/autocomplete?apikey="+F+"&q="+e},A=function(e){return R+"currentconditions/v1/"+e+"?apikey="+F},H=function(e,t){return R+"locations/v1/cities/geoposition/search?apikey="+F+"&q="+e+"%2C"+t},k=function(e){return R+"forecasts/v1/daily/5day/"+e+"?apikey="+F+"&metric=true"},w=l.a.mark(P),L=l.a.mark(D),I=l.a.mark(G),K=l.a.mark(M),W=l.a.mark(V);function P(e){var t,a;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x(e.value);case 2:return t=n.sent,n.prev=3,n.next=6,j.get(t);case 6:return a=n.sent,n.next=9,Object(m.c)(p(a.data));case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),console.log(n.t0);case 14:case 15:case"end":return n.stop()}}),w,null,[[3,11]])}function D(e){var t,a;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,A(e.cityKey);case 2:return t=n.sent,n.next=5,Object(m.c)(O);case 5:return n.prev=5,n.next=8,j.get(t);case 8:return a=n.sent,n.next=11,Object(m.c)(b(a.data));case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(5),console.error(n.t0);case 16:case"end":return n.stop()}}),L,null,[[5,13]])}var U=function(){return new Promise((function(e){navigator.geolocation.getCurrentPosition((function(t){return e(t)}),(function(t){return e(t)}))}))};function G(e){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.b)(U);case 2:if(!(t=e.sent).coords){e.next=8;break}return e.next=6,Object(m.c)(C(t.coords));case 6:e.next=12;break;case 8:return e.next=10,Object(m.c)(_("Tel-Aviv","215854"));case 10:return e.next=12,Object(m.c)(g());case 12:case 13:case"end":return e.stop()}}),I)}function M(e){var t,a,n,r,c,i,s,o;return l.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.coords,a=t.latitude,n=t.longitude,u.next=3,H(a,n);case 3:return r=u.sent,u.prev=4,u.next=7,j.get(r);case 7:return c=u.sent,i=c.data,s=i.EnglishName,o=i.Key,u.next=11,Object(m.c)(h(s,o));case 11:u.next=19;break;case 13:return u.prev=13,u.t0=u.catch(4),u.next=17,Object(m.c)(_("Tel-Aviv","215854"));case 17:return u.next=19,Object(m.c)(g());case 19:case 20:case"end":return u.stop()}}),K,null,[[4,13]])}function V(e){var t,a;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k(e.cityKey);case 2:return t=n.sent,n.next=5,Object(m.c)(N());case 5:return n.prev=5,n.next=8,j.get(t);case 8:return a=n.sent,n.next=11,Object(m.c)(T(a.data));case 11:n.next=15;break;case 13:n.prev=13,n.t0=n.catch(5);case 15:case"end":return n.stop()}}),W,null,[[5,13]])}var J=l.a.mark(B);function B(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.a)([Object(m.e)(E,P),Object(m.e)(f,D),Object(m.d)(y,G),Object(m.d)(d,M),Object(m.e)(v,V)]);case 2:case"end":return e.stop()}}),J)}var Y=a(16),q=a(45),z=a(39),X=a(22);function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(a,!0).forEach((function(t){Object(X.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Z={selectedCityKey:null,selectedCityName:null,searchResults:[],currentWeather:null,currentWeatherLoading:!0,geoLocationArrived:!1,forecasts:null,forecastLoading:!0},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SEARCH_SUCCESS":return Q({},e,{searchResults:t.searchResults});case"CLEAR_SEARCH_RESULTS":return Q({},e,{searchResults:[]});case"UPDATE_SELECTED_CITY":return Q({},e,{selectedCityKey:t.cityKey,selectedCityName:t.cityName});case"FETCH_CURRENT_WEATHER_START":return Q({},e,{currentWeatherLoading:!0});case"FETCH_CURRENT_WEATHER_SUCCESS":return Q({},e,{currentWeatherLoading:!1,currentWeather:t.data});case"FETCH_GEO_LOCATION_SUCCESS":return Q({},e,{selectedCityKey:t.cityKey,selectedCityName:t.cityName,geoLocationArrived:!0});case"FETCH_GEO_LOCATION_FAIL":return Q({},e,{geoLocationArrived:!0});case"FETCH_FORECAST_START":return Q({},e,{forecastLoading:!0});case"FETCH_FORECAST_SUCCESS":return Q({},e,{forecasts:t.data,forecastLoading:!1});default:return e}},te={favorites:[]},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FAVORITES":return{favorites:t.newFavorites};default:return e}};function ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ne(a,!0).forEach((function(t){Object(X.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ne(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ce={metric:!0,darkTheme:!1},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_TEMP":return re({},e,{metric:!e.metric});case"CHANGE_THEME":return re({},e,{darkTheme:!e.darkTheme});default:return e}},se=(a(73),a(17)),oe=a(44),ue=function(e){var t=Object(n.useState)(""),a=Object(oe.a)(t,2),c=a[0],i=a[1],o=Object(s.c)((function(e){return e.home})).selectedCityKey,u=Object(s.b)(),l=Object(n.useCallback)((function(e){return u(function(e){return{type:E,value:e}}(e))}),[u]),m=Object(n.useCallback)((function(){return u({type:"CLEAR_SEARCH_RESULTS"})}),[u]);Object(n.useEffect)((function(){if(" "!==c&&0!==c.length){var e=setTimeout((function(){l(c)}),300);return function(){clearTimeout(e)}}}),[c,l]),Object(n.useEffect)((function(){i("")}),[o]);return r.a.createElement("input",{className:"searchCity__input",placeholder:"Search city",type:"text",onChange:function(e){i(e.target.value),0===e.target.value.length&&m()},onKeyPress:function(e){(function(e){var t=e.charCode;return t>=60&&t<=90||(t>=97&&t<=122||32===t)})(e)||e.preventDefault()},value:c})},le=function(){var e=Object(s.c)((function(e){return e.home})).selectedCityKey,t=Object(s.c)((function(e){return e.home})).searchResults,a=Object(s.b)(),n=function(t,n){t!==e&&(!function(e,t){a(_(e,t))}(t,n),a({type:"CLEAR_SEARCH_RESULTS"}))},c=t.map((function(e){var t=e.LocalizedName,a=e.Key;return r.a.createElement("li",{className:"searchCity__item",onClick:function(){return n(t,a)},key:a},t)}));return r.a.createElement("ul",{className:"searchCity__results"},c)},me=function(e){return r.a.createElement("div",{className:"searchCity-wrapper"},r.a.createElement("div",{className:"searchCity"},r.a.createElement(ue,null),r.a.createElement(le,null)))},Ee=function(e,t){return t.some((function(t){return t.cityKey===e}))},fe=function(e){var t=Object(s.c)((function(e){return e.favorites})).favorites,a=Object(s.b)(),n=function(e,t){return a(function(e,t){var a=t.filter((function(t){return e!==t.cityKey}));return localStorage.setItem("userFav",JSON.stringify(a)),{type:"SET_FAVORITES",newFavorites:a}}(e,t))},c=function(e,t,n){return a(function(e,t,a){var n=a.concat({cityKey:e,cityName:t});return localStorage.setItem("userFav",JSON.stringify(n)),{type:"SET_FAVORITES",newFavorites:n}}(e,t,n))},i="#e31b23",o={backgroundColor:"#777"};Ee(e.cityKey,t)&&(o.backgroundColor=i);return r.a.createElement("div",{className:"favoriteHeart",style:o,onClick:function(){return a=e.cityKey,r=e.cityName,void(Ee(a,t)?n(a,t):c(a,r,t));var a,r}})},ye=function(e){return"./icons/"+e+"-s.png"},de=function(e){return r.a.createElement("header",{className:"cityHeader"},r.a.createElement("div",{className:"cityHeader__details"},r.a.createElement("p",{className:"cityHeader__details-title"},e.cCityName),r.a.createElement("div",{className:"cityHeader__details-container"},r.a.createElement("img",{className:"cityHeader__icon",src:ye(e.cWeatherIcon),alt:"dsd"}),r.a.createElement("div",{className:"cityHeader__details-subContainer"},r.a.createElement("p",{className:"cityHeader__details-temp"},e.cWeatherTemp,"\xb0"),r.a.createElement("div",{className:"cityHeader__details-text"},r.a.createElement("em",null,e.cWeatherText))))),r.a.createElement(fe,{cityKey:e.cCityKey,cityName:e.cCityName}))},ve=function(e){return(1.8*e+32).toFixed(0)},pe=function(e){var t=e.dailyForecast,a=t.Temperature,n=t.Day,c=t.Night,i=e.dailyForecast.Date,o=ye(n.Icon),u=ye(c.Icon),l=Math.round(a.Maximum.Value),m=Math.round(a.Minimum.Value),E=new Date(i).getDay(),f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][E];return Object(s.c)((function(e){return e.userSettings})).metric||(l=ve(l),m=ve(m)),r.a.createElement("div",{className:"cityForecast__day"},r.a.createElement("p",{className:"cityForecast__day-title"},f),r.a.createElement("div",{className:"cityForecast__day-container"},r.a.createElement("div",{className:"cityForecast__details"},r.a.createElement("p",{className:"cityForecast__details-title"},"Day:"),r.a.createElement("p",{className:"cityForecast__details-temp"},l,"\xb0"),r.a.createElement("img",{className:"cityForecast__icon",src:o,alt:"dsd"})),r.a.createElement("div",{className:"cityForecast__details"},r.a.createElement("p",{className:"cityForecast__details-title"},"Night:"),r.a.createElement("p",{className:"cityForecast__details-temp"},m,"\xb0"),r.a.createElement("img",{className:"cityForecast__details-icon",src:u,alt:"dsd"}))))},_e=function(){var e=Object(s.c)((function(e){return e.home})).forecasts,t=null;if(e){var a=e.Headline,n=e.DailyForecasts;t=r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"cityForecast__title"},r.a.createElement("em",null,a.Text)),r.a.createElement("div",{className:"cityForecast__forecasts"},n.map((function(e){return r.a.createElement(pe,{key:e.EpochDate,dailyForecast:e})}))))}return r.a.createElement("div",{className:"cityForecast"},t)},Oe=a(40),be=a.n(Oe),Ce=function(e){return r.a.createElement("img",{className:"spinner",src:be.a,alt:"Loading..."})},he=function(){var e=Object(s.c)((function(e){return e.home})),t=e.selectedCityKey,a=e.selectedCityName,c=e.geoLocationArrived,i=e.currentWeatherLoading,o=e.forecastLoading,u=Object(s.c)((function(e){return e.home.currentWeather})),l=Object(s.c)((function(e){return e.userSettings})).metric,m=Object(s.b)(),E=Object(n.useCallback)((function(e){return m(function(e){return{type:f,cityKey:e}}(e))}),[m]),d=Object(n.useCallback)((function(e){return m(function(e){return{type:v,cityKey:e}}(e))}),[m]),p=Object(n.useCallback)((function(){return m({type:y})}),[m]);if(u){var _=u[0],O=_.WeatherText,b=_.WeatherIcon,C=_.Temperature,h=C.Metric.Value;l||(h=C.Imperial.Value)}Object(n.useEffect)((function(){p()}),[p]),Object(n.useEffect)((function(){t&&c&&(d(t),E(t))}),[E,d,c,t]);var g=r.a.createElement(Ce,null);return i||o||(g=r.a.createElement(r.a.Fragment,null,r.a.createElement(de,{cWeatherText:O,cWeatherIcon:b,cWeatherTemp:h,cCityName:a,cCityKey:t}),r.a.createElement(_e,null))),r.a.createElement("div",{className:"currentCity"},g)},ge=function(e){return r.a.createElement("div",{className:"home"},r.a.createElement(me,null),r.a.createElement(he,null))},Te=function(){return r.a.createElement("ul",{className:"navigation__list"},r.a.createElement("li",{className:"navigation__item"},r.a.createElement(Y.c,{to:"/",exact:!0,className:"navigation__link",activeClassName:"navigation__item--active"},"Home")),r.a.createElement("li",{className:"navigation__item"},r.a.createElement(Y.c,{to:"/favorites",className:"navigation__link",activeClassName:"navigation__item--active"},"Favorites")))},Ne=function(){return r.a.createElement(Y.b,{className:"logo",to:"/"},r.a.createElement("h1",{className:"logo__title"},"Herolo Weather"))},Se=a(42),je=a.n(Se),Fe=a(43),Re=a.n(Fe),xe=function(e){var t=Object(s.b)(),a=Object(s.c)((function(e){return e.userSettings.metric})),n=je.a;return a||(n=Re.a),r.a.createElement("div",{className:"tempCheckBox",onClick:function(){t({type:"CHANGE_TEMP"})}},r.a.createElement("p",{className:"tempCheckBox__title"},"Temperature"),r.a.createElement("img",{className:"tempCheckBox__img",src:n,alt:"Temp Selector"}))},Ae=function(e){return r.a.createElement("div",{className:"navigation"},r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne,null),r.a.createElement(Te,null),r.a.createElement("div",{className:"navigation__settings"},r.a.createElement(xe,null))))},He=function(){return r.a.createElement("div",null,"FOOTER")},ke=function(){return r.a.createElement("div",{className:"coverImg"},"123")},we=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,null),r.a.createElement(Ae,null),e.children,r.a.createElement(He,null))},Le=r.a.lazy((function(){return a.e(3).then(a.bind(null,76))})),Ie=function(e){var t=Object(s.b)(),a=Object(n.useCallback)((function(){return t(function(){var e=[],t=localStorage.getItem("userFav");return null!==t&&(e=JSON.parse(t)),{type:"SET_FAVORITES",newFavorites:e}}())}),[t]);Object(n.useEffect)((function(){a()}),[a]);var c=r.a.createElement(se.d,null,r.a.createElement(se.b,{path:"/favorites",component:Le}),r.a.createElement(se.b,{path:"/",component:ge}),r.a.createElement(se.a,{to:"/"}));return r.a.createElement("div",{className:"App"},r.a.createElement(we,null,r.a.createElement(n.Suspense,{fallback:r.a.createElement("p",null,"Loading...")}," ",r.a.createElement("main",null,c),"  ")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ke=o.d,We=Object(o.c)({home:ee,favorites:ae,userSettings:ie}),Pe=Object(q.a)(),De=Object(o.e)(We,Ke(Object(o.a)(z.a,Pe)));Pe.run(B);var Ue=r.a.createElement(s.a,{store:De},r.a.createElement(Y.a,{basename:"/Weather-App-v2/"},r.a.createElement(Ie,null)));i.a.render(Ue,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[46,1,2]]]);
//# sourceMappingURL=main.8f560c56.chunk.js.map