(this["webpackJsonpherolo-assignment-v2"]=this["webpackJsonpherolo-assignment-v2"]||[]).push([[0],{2:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"q",(function(){return c})),n.d(t,"r",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"u",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return f})),n.d(t,"s",(function(){return m})),n.d(t,"n",(function(){return d})),n.d(t,"p",(function(){return y})),n.d(t,"o",(function(){return p})),n.d(t,"k",(function(){return v})),n.d(t,"l",(function(){return E})),n.d(t,"m",(function(){return b})),n.d(t,"t",(function(){return h})),n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return _})),n.d(t,"c",(function(){return j}));var r="CHANGE_TEMP",a="CHANGE_THEME",c="FETCH_SEARCH",i="FETCH_SEARCH_SUCCESS",u="CLEAR_SEARCH_RESULTS",o="UPDATE_SELECTED_CITY",s="FETCH_CURRENT_WEATHER",l="FETCH_CURRENT_WEATHER_START",f="FETCH_CURRENT_WEATHER_SUCCESS",m="GET_GEO_LOCATION",d="FETCH_GEO_LOCATION",y="FETCH_GEO_LOCATION_SUCCESS",p="FETCH_GEO_LOCATION_FAIL",v="FETCH_FORECAST",E="FETCH_FORECAST_START",b="FETCH_FORECAST_SUCCESS",h="SET_FAVORITES",O="FETCH_FAVORITES",g="FETCH_FAVORITES_START",_="FETCH_FAVORITES_SUCCESS",j="CLEAR_FETCHED_FAVORITES"},21:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return"./icons/"+e+"-s.png"}},40:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(45),i=n.n(c);t.a=function(e){return a.a.createElement("img",{className:"spinner",src:i.a,alt:"Loading..."})}},41:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(7),i=function(e,t){return t.some((function(t){return t.cityKey===e}))},u=n(6);t.a=function(e){var t=Object(c.c)((function(e){return e.favorites})).favorites,n=Object(c.b)(),r="#e31b23",o={backgroundColor:"#777",height:e.height,width:e.width};i(e.cityKey,t)&&(o.backgroundColor=r);var s=function(e,r){i(e,t)?function(e,t){n(u.u(e,t))}(e,t):function(e,t,r){n(u.a(e,t,r))}(e,r,t)};return a.a.createElement("div",{className:"favoriteHeart",style:o,onClick:function(){return s(e.cityKey,e.cityName)}})}},45:function(e,t,n){e.exports=n.p+"static/media/sunLoading.3d7f5242.png"},47:function(e,t,n){e.exports=n.p+"static/media/celsius.802510af.svg"},48:function(e,t,n){e.exports=n.p+"static/media/fahrenheit.0a3403d1.svg"},51:function(e,t,n){e.exports=n(80)},6:function(e,t,n){"use strict";var r=n(2),a=function(){return{type:r.a}},c=function(e){return{type:r.r,searchResults:e}},i=function(e){return{type:r.q,value:e}},u=function(){return{type:r.d}},o=function(e,t){return{type:r.u,cityName:e,cityKey:t}},s=function(e){return{type:r.e,cityKey:e}},l=function(){return{type:r.f}},f=function(e){return{type:r.g,data:e}},m=function(){return{type:r.s}},d=function(e){return{type:r.n,coords:e}},y=function(e,t){return{type:r.p,cityName:e,cityKey:t}},p=function(){return{type:r.o}},v=function(e){return{type:r.k,cityKey:e}},E=function(e){return{type:r.m,data:e}},b=function(){return{type:r.l}},h=function(){var e=[],t=localStorage.getItem("userFav");return null!==t&&(e=JSON.parse(t)),{type:r.t,newFavorites:e}},O=function(e,t){var n=t.filter((function(t){return e!==t.cityKey}));return localStorage.setItem("userFav",JSON.stringify(n)),{type:r.t,newFavorites:n}},g=function(e,t,n){var a=n.concat({cityKey:e,cityName:t});return localStorage.setItem("userFav",JSON.stringify(a)),{type:r.t,newFavorites:a}},_=function(e){return{type:r.h,cityList:e}},j=function(){return{type:r.i}},C=function(e){return{type:r.j,citysData:e}},N=function(){return{type:r.c}};n.d(t,"b",(function(){return a})),n.d(t,"q",(function(){return i})),n.d(t,"r",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"v",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return f})),n.d(t,"s",(function(){return m})),n.d(t,"n",(function(){return d})),n.d(t,"p",(function(){return y})),n.d(t,"k",(function(){return v})),n.d(t,"m",(function(){return E})),n.d(t,"l",(function(){return b})),n.d(t,"o",(function(){return p})),n.d(t,"t",(function(){return h})),n.d(t,"u",(function(){return O})),n.d(t,"a",(function(){return g})),n.d(t,"h",(function(){return _})),n.d(t,"i",(function(){return j})),n.d(t,"j",(function(){return C})),n.d(t,"c",(function(){return N}))},78:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(23),i=n.n(c),u=n(7),o=n(17),s=n(9),l=n.n(s),f=n(8),m=n(2),d=n(6),y=n(43),p=n.n(y).a.create({baseURL:"https://dataservice.accuweather.com/"}),v="u9RaORaXroYFdUkpSTgfjH3Rs8ETJ2bn",E="https://dataservice.accuweather.com/",b=function(e){return E+"locations/v1/cities/autocomplete?apikey="+v+"&q="+e},h=function(e){return E+"currentconditions/v1/"+e+"?apikey="+v},O=function(e,t){return E+"locations/v1/cities/geoposition/search?apikey="+v+"&q="+e+"%2C"+t},g=function(e){return E+"forecasts/v1/daily/5day/"+e+"?apikey="+v+"&metric=true"},_=l.a.mark(F),j=l.a.mark(w),C=l.a.mark(S),N=l.a.mark(k),T=l.a.mark(H);function F(e){var t,n;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b(e.value);case 2:return t=r.sent,r.prev=3,r.next=6,p.get(t);case 6:return n=r.sent,r.next=9,Object(f.c)(d.r(n.data));case 9:r.next=14;break;case 11:r.prev=11,r.t0=r.catch(3),console.log(r.t0);case 14:case 15:case"end":return r.stop()}}),_,null,[[3,11]])}function w(e){var t,n;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,h(e.cityKey);case 2:return t=r.sent,r.next=5,Object(f.c)(d.f);case 5:return r.prev=5,r.next=8,p.get(t);case 8:return n=r.sent,r.next=11,Object(f.c)(d.g(n.data));case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(5),console.error(r.t0);case 16:case"end":return r.stop()}}),j,null,[[5,13]])}var x=function(){return new Promise((function(e){navigator.geolocation.getCurrentPosition((function(t){return e(t)}),(function(t){return e(t)}))}))};function S(e){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.b)(x);case 2:if(!(t=e.sent).coords){e.next=8;break}return e.next=6,Object(f.c)(d.n(t.coords));case 6:e.next=12;break;case 8:return e.next=10,Object(f.c)(d.v("Tel-Aviv","215854"));case 10:return e.next=12,Object(f.c)(d.o());case 12:case 13:case"end":return e.stop()}}),C)}function k(e){var t,n,r,a,c,i,u,o;return l.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.coords,n=t.latitude,r=t.longitude,s.next=3,O(n,r);case 3:return a=s.sent,s.prev=4,s.next=7,p.get(a);case 7:return c=s.sent,i=c.data,u=i.EnglishName,o=i.Key,s.next=11,Object(f.c)(d.p(u,o));case 11:s.next=19;break;case 13:return s.prev=13,s.t0=s.catch(4),s.next=17,Object(f.c)(d.v("Tel-Aviv","215854"));case 17:return s.next=19,Object(f.c)(d.o());case 19:case 20:case"end":return s.stop()}}),N,null,[[4,13]])}function H(e){var t,n;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,g(e.cityKey);case 2:return t=r.sent,r.next=5,Object(f.c)(d.l());case 5:return r.prev=5,r.next=8,p.get(t);case 8:return n=r.sent,r.next=11,Object(f.c)(d.m(n.data));case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(5);case 15:case"end":return r.stop()}}),T,null,[[5,13]])}var R=l.a.mark(L),A=l.a.mark(P);function L(e){var t,n;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(f.c)(d.i());case 2:return r.next=4,e.cityList.map((function(e){return P(e)}));case 4:return t=r.sent,r.next=7,Object(f.a)(t);case 7:return n=r.sent,r.next=10,Object(f.c)(d.j(n));case 10:case"end":return r.stop()}}),R)}function P(e){var t,n,r;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=h(e),a.prev=1,a.next=4,p.get(t);case 4:return n=a.sent,r={cityKey:e,data:n.data},a.abrupt("return",r);case 9:a.prev=9,a.t0=a.catch(1),console.error("error Fetching favorite "+e);case 12:case 13:case"end":return a.stop()}}),A,null,[[1,9]])}var K=l.a.mark(W),D=l.a.mark(I);function W(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)([Object(f.e)(m.q,F),Object(f.e)(m.e,w),Object(f.d)(m.s,S),Object(f.d)(m.n,k),Object(f.e)(m.k,H)]);case 2:case"end":return e.stop()}}),K)}function I(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)([Object(f.e)(m.h,L)]);case 2:case"end":return e.stop()}}),D)}var U=n(18),V=n(50),M=n(44),q=n(20);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(n,!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B={selectedCityKey:null,selectedCityName:null,searchResults:[],currentWeather:null,currentWeatherLoading:!0,geoLocationArrived:!1,forecasts:null,forecastLoading:!0},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.r:return J({},e,{searchResults:t.searchResults});case m.d:return J({},e,{searchResults:[]});case m.u:return J({},e,{selectedCityKey:t.cityKey,selectedCityName:t.cityName});case m.f:return J({},e,{currentWeatherLoading:!0});case m.g:return J({},e,{currentWeatherLoading:!1,currentWeather:t.data});case m.p:return J({},e,{selectedCityKey:t.cityKey,selectedCityName:t.cityName,geoLocationArrived:!0});case m.o:return J({},e,{geoLocationArrived:!0});case m.l:return J({},e,{forecastLoading:!0});case m.m:return J({},e,{forecasts:t.data,forecastLoading:!1});default:return e}};function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(n,!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $={favorites:[],fetchedFavorites:[],fetchFavoritesLoading:!0},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.t:return X({},e,{favorites:t.newFavorites});case m.i:return X({},e,{fetchFavoritesLoading:!0});case m.j:return X({},e,{fetchedFavorites:t.citysData,fetchFavoritesLoading:!1});case m.c:return X({},e,{fetchedFavorites:[],fetchFavoritesLoading:!0});default:return e}};function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(n,!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te={metric:!0,darkTheme:!1},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.a:return ee({},e,{metric:!e.metric});case m.b:return ee({},e,{darkTheme:!e.darkTheme});default:return e}},re=(n(78),n(19)),ae=n(49),ce=function(e){var t=Object(r.useState)(""),n=Object(ae.a)(t,2),c=n[0],i=n[1],o=Object(u.c)((function(e){return e.home})).selectedCityKey,s=Object(u.b)(),l=Object(r.useCallback)((function(e){return s(d.q(e))}),[s]),f=Object(r.useCallback)((function(){return s(d.d())}),[s]);Object(r.useEffect)((function(){if(" "!==c&&0!==c.length){var e=setTimeout((function(){l(c)}),300);return function(){clearTimeout(e)}}}),[c,l]),Object(r.useEffect)((function(){i("")}),[o]);return a.a.createElement("input",{className:"searchCity__input",placeholder:"Search city",type:"text",onChange:function(e){i(e.target.value),0===e.target.value.length&&f()},onKeyPress:function(e){(function(e){var t=e.charCode;return t>=60&&t<=90||(t>=97&&t<=122||32===t)})(e)||e.preventDefault()},value:c})},ie=function(){var e=Object(u.c)((function(e){return e.home})).selectedCityKey,t=Object(u.c)((function(e){return e.home})).searchResults,n=Object(u.b)(),r=function(t,r){t!==e&&(!function(e,t){n(d.v(e,t))}(t,r),n(d.d()))},c=t.map((function(e){var t=e.LocalizedName,n=e.Key;return a.a.createElement("li",{className:"searchCity__item",onClick:function(){return r(t,n)},key:n},t)}));return a.a.createElement("ul",{className:"searchCity__results"},c)},ue=function(e){return a.a.createElement("div",{className:"searchCity-wrapper"},a.a.createElement("div",{className:"searchCity"},a.a.createElement(ce,null),a.a.createElement(ie,null)))},oe=n(41),se=n(21),le=function(e){return a.a.createElement("header",{className:"cityHeader"},a.a.createElement("div",{className:"cityHeader__details"},a.a.createElement("p",{className:"cityHeader__details-title"},e.cCityName),a.a.createElement("div",{className:"cityHeader__details-container"},a.a.createElement("img",{className:"cityHeader__icon",src:Object(se.a)(e.cWeatherIcon),alt:"dsd"}),a.a.createElement("div",{className:"cityHeader__details-subContainer"},a.a.createElement("p",{className:"cityHeader__details-temp"},e.cWeatherTemp,"\xb0"),a.a.createElement("div",{className:"cityHeader__details-text"},a.a.createElement("em",null,e.cWeatherText))))),a.a.createElement(oe.a,{cityKey:e.cCityKey,cityName:e.cCityName,height:"7rem",width:"7rem"}))},fe=function(e){return(1.8*e+32).toFixed(0)},me=function(e){var t=e.dailyForecast,n=t.Temperature,r=t.Day,c=t.Night,i=e.dailyForecast.Date,o=Object(se.a)(r.Icon),s=Object(se.a)(c.Icon),l=Math.round(n.Maximum.Value),f=Math.round(n.Minimum.Value),m=new Date(i).getDay(),d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][m];return Object(u.c)((function(e){return e.userSettings})).metric||(l=fe(l),f=fe(f)),a.a.createElement("div",{className:"cityForecast__day"},a.a.createElement("p",{className:"cityForecast__day-title"},d),a.a.createElement("div",{className:"cityForecast__day-container"},a.a.createElement("div",{className:"cityForecast__details"},a.a.createElement("p",{className:"cityForecast__details-title"},"Day:"),a.a.createElement("p",{className:"cityForecast__details-temp"},l,"\xb0"),a.a.createElement("img",{className:"cityForecast__icon",src:o,alt:"dsd"})),a.a.createElement("div",{className:"cityForecast__details"},a.a.createElement("p",{className:"cityForecast__details-title"},"Night:"),a.a.createElement("p",{className:"cityForecast__details-temp"},f,"\xb0"),a.a.createElement("img",{className:"cityForecast__details-icon",src:s,alt:"dsd"}))))},de=function(){var e=Object(u.c)((function(e){return e.home})).forecasts,t=null;if(e){var n=e.Headline,r=e.DailyForecasts;t=a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",{className:"cityForecast__title"},a.a.createElement("em",null,n.Text)),a.a.createElement("div",{className:"cityForecast__forecasts"},r.map((function(e){return a.a.createElement(me,{key:e.EpochDate,dailyForecast:e})}))))}return a.a.createElement("div",{className:"cityForecast"},t)},ye=n(40),pe=function(){var e=Object(u.c)((function(e){return e.home})),t=e.selectedCityKey,n=e.selectedCityName,c=e.geoLocationArrived,i=e.currentWeatherLoading,o=e.forecastLoading,s=Object(u.c)((function(e){return e.home.currentWeather})),l=Object(u.c)((function(e){return e.userSettings})).metric,f=Object(u.b)(),m=Object(r.useCallback)((function(e){return f(d.e(e))}),[f]),y=Object(r.useCallback)((function(e){return f(d.k(e))}),[f]);if(s){var p=s[0],v=p.WeatherText,E=p.WeatherIcon,b=p.Temperature,h=b.Metric.Value;l||(h=b.Imperial.Value)}Object(r.useEffect)((function(){t&&(y(t),m(t))}),[m,y,c,t]);var O=a.a.createElement(ye.a,null);return i||o||(O=a.a.createElement(a.a.Fragment,null,a.a.createElement(le,{cWeatherText:v,cWeatherIcon:E,cWeatherTemp:h,cCityName:n,cCityKey:t}),a.a.createElement(de,null))),a.a.createElement("div",{className:"currentCity"},O)},ve=function(e){return a.a.createElement("div",{className:"home"},a.a.createElement(ue,null),a.a.createElement(pe,null))},Ee=function(){return a.a.createElement("ul",{className:"navigation__list"},a.a.createElement("li",{className:"navigation__item"},a.a.createElement(U.c,{to:"/",exact:!0,className:"navigation__link",activeClassName:"navigation__item--active"},"Home")),a.a.createElement("li",{className:"navigation__item"},a.a.createElement(U.c,{to:"/favorites",className:"navigation__link",activeClassName:"navigation__item--active"},"Favorites")))},be=function(){return a.a.createElement(U.b,{className:"logo",to:"/"},a.a.createElement("h1",{className:"logo__title"},"Herolo Weather"))},he=n(47),Oe=n.n(he),ge=n(48),_e=n.n(ge),je=function(e){var t=Object(u.b)(),n=Object(u.c)((function(e){return e.userSettings.metric})),r=Oe.a;return n||(r=_e.a),a.a.createElement("div",{className:"tempCheckBox",onClick:function(){t(d.b())}},a.a.createElement("p",{className:"tempCheckBox__title"},"Temperature"),a.a.createElement("img",{className:"tempCheckBox__img",src:r,alt:"Temp Selector"}))},Ce=function(e){return a.a.createElement("div",{className:"navigation"},a.a.createElement(a.a.Fragment,null,a.a.createElement(be,null),a.a.createElement(Ee,null),a.a.createElement("div",{className:"navigation__settings"},a.a.createElement(je,null))))},Ne=function(){return a.a.createElement("div",null,"FOOTER")},Te=function(){return a.a.createElement("div",{className:"coverImg"},"123")},Fe=function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Te,null),a.a.createElement(Ce,null),e.children,a.a.createElement(Ne,null))},we=a.a.lazy((function(){return n.e(3).then(n.bind(null,81))})),xe=function(e){var t=Object(u.b)(),n=Object(r.useCallback)((function(){return t(d.t())}),[t]),c=Object(r.useCallback)((function(){return t(d.s())}),[t]);Object(r.useEffect)((function(){n()}),[n]),Object(r.useEffect)((function(){c()}),[c]);var i=a.a.createElement(re.d,null,a.a.createElement(re.b,{path:"/favorites",component:we}),a.a.createElement(re.b,{path:"/",component:ve}),a.a.createElement(re.a,{to:"/"}));return a.a.createElement("div",{className:"App"},a.a.createElement(Fe,null,a.a.createElement(r.Suspense,{fallback:a.a.createElement("p",null,"Loading...")}," ",a.a.createElement("main",{className:"mainContainer"},i),"  ")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Se=o.d,ke=Object(o.c)({home:z,favorites:Q,userSettings:ne}),He=Object(V.a)(),Re=Object(o.e)(ke,Se(Object(o.a)(M.a,He)));He.run(W),He.run(I);var Ae=a.a.createElement(u.a,{store:Re},a.a.createElement(U.a,{basename:"/Weather-App-v2"},a.a.createElement(xe,null)));i.a.render(Ae,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[51,1,2]]]);
//# sourceMappingURL=main.95d9d6d4.chunk.js.map