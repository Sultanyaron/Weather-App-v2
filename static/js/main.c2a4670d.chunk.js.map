{"version":3,"sources":["shared/axios-weather.js","shared/getIconPath.js","store/actions/actionTypes.js","components/UI/Spinner/Spinner.js","components/UI/Modal/Backdrop/Backdrop.js","components/UI/Modal/Modal.js","hoc/withErrorHandler/withErrorHandler.js","hooks/http-error-handler/http-error-handler.js","shared/favoriteCheck.js","components/UI/FavoriteHeart/FavoriteHeart.js","assets/images/sunLoading.png","assets/images/celsius.svg","assets/images/fahrenheit.svg","store/actions/userSettings.js","store/actions/home.js","store/actions/favorites.js","store/actions/rootActions.js","shared/urlCreator.js","store/sagas/home.js","store/sagas/favorites.js","store/sagas/rootSaga.js","store/reducers/home.js","store/reducers/favorites.js","store/reducers/userSettings.js","components/SearchCity/AutCompleteInput/AutoCompleteInput.js","shared/validEnglishLetters.js","components/SearchCity/SearchResults/SearchResults.js","components/SearchCity/SearchCity.js","components/CurrentCity/CityHeader/CityHeader.js","shared/convertTemp.js","components/CurrentCity/CityForecast/DayForecast/DayForecast.js","shared/getWeekDay.js","components/CurrentCity/CityForecast/CityForecast.js","components/CurrentCity/CurrentCity.js","containers/Home/Home.js","components/Navigation/NavLinks/NavLinks.js","components/Logo/Logo.js","components/UI/TempCheckBox/TempCheckBox.js","components/Navigation/Navigation.js","components/Footer/Footer.js","hoc/Layout/Layout.js","App.js","serviceWorker.js","index.js"],"names":["instance","axios","create","baseURL","getIconPath","iconNumber","CHANGE_TEMP","CHANGE_THEME","FETCH_SEARCH","FETCH_SEARCH_SUCCESS","CLEAR_SEARCH_RESULTS","UPDATE_SELECTED_CITY","FETCH_CITY_DATA","FETCH_CITY_DATA_START","FETCH_CITY_DATA_SUCCESS","GET_GEO_LOCATION","FETCH_GEO_LOCATION","FETCH_GEO_LOCATION_SUCCESS","FETCH_GEO_LOCATION_FAIL","SET_FAVORITES","FETCH_FAVORITES","FETCH_FAVORITES_START","FETCH_FAVORITES_SUCCESS","CLEAR_FETCHED_FAVORITES","Spinner","props","className","src","sunSpinner","alt","backdrop","show","onClick","clicked","Modal","Fragment","Backdrop","style","transform","opacity","children","withErrorHandler","WrappedComponent","httpClient","useState","error","setError","reqInterceptor","interceptors","request","use","req","resInterceptor","response","res","err","useEffect","eject","useHttpErrorHook","clearError","errorMessage","message","favoriteCheck","selectedKey","favorites","some","element","cityKey","FavoriteHeart","useSelector","state","dispatch","useDispatch","colors","heartStyle","backgroundColor","height","width","favoriteHandler","cityName","actions","onRemoveFavorite","onAddFavorite","module","exports","changeTemp","type","actionTypes","fetchSearchSuccess","results","searchResults","fetchSearch","value","clearSearchResults","updateSelectedCity","fetchCityData","fetchCityDataStart","fetchCityDataSuccess","currentWeather","forecast","currentWeatherData","forecastData","getGeoLocation","fetchGeoLocation","coords","fetchGeoLocationSuccess","fetchGeoLocationFail","initFavorites","localFavorites","localStorage","getItem","JSON","parse","newFavorites","removeFavorite","filter","fav","setItem","stringify","addFavorite","concat","fetchFavorites","cityKeysList","cityList","fetchFavoritesStart","fetchFavoritesSuccess","citysData","clearFetchedFavorites","apiKey","basePath","autoCompleteEndpoint","q","currentWeatherEndpoint","getoLocationEndpoint","lat","lon","forecastEndpoint","fetchSearchSaga","fetchCityDataSaga","getGeoLocationSaga","fetchGeoLocationSaga","action","urlCreator","searchEndpoint","get","put","data","console","all","call","currentWeatherRes","forecastRes","getUserLocation","Promise","resolve","navigator","geolocation","getCurrentPosition","location","latitude","longitude","geoEndpoint","EnglishName","Key","fetchFavoritesSaga","fetchSingleFav","map","key","apiCalls","checkErrors","i","length","fetchEndpoint","transformedData","watchHome","watchFavorites","takeLatest","takeEvery","initialState","selectedCityKey","selectedCityName","fetchCityDataLoading","forecasts","geoLocationArrived","reducer","currentWeatherLoading","fetchedFavorites","fetchFavoritesLoading","metric","darkTheme","AutoCompleteInput","inputVal","setInputVal","home","onSearchCityFetch","useCallback","onClearSearchResults","timer","setTimeout","clearTimeout","placeholder","onChange","event","target","onKeyPress","charCode","validLetter","preventDefault","SearchResults","selectCity","onSelectCity","city","LocalizedName","SearchCity","CityHeader","cCityName","cWeatherIcon","cWeatherTemp","cWeatherText","cCityKey","celToFar","celcius","toFixed","React","memo","dailyForecast","Temperature","Day","Night","date","Date","dayIconPath","Icon","nightIconPath","dayTemp","Math","round","Maximum","Value","nightTemp","Minimum","weekDayNumber","getDay","weekDay","userSettings","log","forecastsList","Headline","DailyForecasts","Text","dayForecast","EpochDate","CurrentCity","onFetchCityDetails","content","WeatherText","WeatherIcon","currentTemp","Metric","Imperial","NavLinks","to","exact","activeClassName","Logo","TempCheckBox","tempSignPath","fahrenheit","Navigation","Footer","href","Layout","Favorites","lazy","App","onInitFavorites","onGetGeoLocation","routes","path","component","Home","fallback","Boolean","window","hostname","match","composeEnhancers","compose","rootReducer","combineReducers","homeReducer","favoriteReducer","userSettingsReducer","sagaMiddleware","createSagaMiddleware","store","createStore","applyMiddleware","thunk","run","app","basename","process","ReactDOM","render","document","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.c2a4670d.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://dataservice.accuweather.com/'\r\n});\r\n\r\nexport default instance;","export const getIconPath = (iconNumber) => {\r\n    return './icons/' + iconNumber + '-s.png';\r\n};","export const CHANGE_TEMP = 'CHANGE_TEMP';\r\nexport const CHANGE_THEME = 'CHANGE_THEME';\r\n\r\nexport const FETCH_SEARCH = 'FETCH_SEARCH';\r\nexport const FETCH_SEARCH_SUCCESS = 'FETCH_SEARCH_SUCCESS'; \r\nexport const CLEAR_SEARCH_RESULTS = 'CLEAR_SEARCH_RESULTS';\r\n\r\nexport const UPDATE_SELECTED_CITY = 'UPDATE_SELECTED_CITY'; \r\n\r\nexport const FETCH_CITY_DATA = 'FETCH_CITY_DATA';\r\nexport const FETCH_CITY_DATA_START = 'FETCH_CITY_DATA_START';\r\nexport const FETCH_CITY_DATA_SUCCESS = 'FETCH_CITY_DATA_SUCCESS';\r\n\r\nexport const GET_GEO_LOCATION = 'GET_GEO_LOCATION';\r\nexport const FETCH_GEO_LOCATION ='FETCH_GEO_LOCATION'; \r\nexport const FETCH_GEO_LOCATION_SUCCESS = 'FETCH_GEO_LOCATION_SUCCESS';\r\nexport const FETCH_GEO_LOCATION_FAIL = 'FETCH_GEO_LOCATION_FAIL';\r\n\r\n\r\n\r\n\r\nexport const SET_FAVORITES = 'SET_FAVORITES';\r\nexport const REMOVE_FAVORITE = 'REMOVE_FAVORITE';\r\nexport const ADD_FAVORITE = 'REMOVE_FAVORITE';\r\n\r\nexport const FETCH_FAVORITES = 'FETCH_FAVORITES';\r\nexport const FETCH_FAVORITES_START = 'FETCH_FAVORITES_START';\r\nexport const FETCH_FAVORITES_SUCCESS = 'FETCH_FAVORITES_SUCCESS';\r\nexport const CLEAR_FETCHED_FAVORITES = 'CLEAR_FETCHED_FAVORITES';\r\n\r\n\r\n\r\n\r\n \r\n","import React from 'react';\r\nimport sunSpinner from '../../../assets/images/sunLoading.png';\r\n\r\nconst Spinner = (props) => {\r\n\r\n    return <img className='spinner' src={sunSpinner} alt='Loading...'></img>\r\n};\r\n\r\nexport default Spinner;","import React from 'react';\r\n\r\n\r\nconst backdrop = (props) => (\r\n    props.show ? <div className='backdrop' onClick={props.clicked}></div> : null\r\n);\r\n\r\nexport default backdrop;","import React from 'react';\r\nimport Backdrop from './Backdrop/Backdrop';\r\n\r\nconst Modal = props => {\r\n    return (\r\n        <React.Fragment>\r\n            <Backdrop \r\n                show={props.show}\r\n                clicked={props.clicked}/>\r\n            <div \r\n                className='modal'\r\n                style={{\r\n                    transform: props.show ? 'translate(-50% , 0) ' : 'translate(-50% , -100vh)',\r\n                    opacity: props.show ? '1' : '0'\r\n                }}>\r\n                {props.children}\r\n            \r\n\r\n            </div>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default Modal;","import React from 'react';\r\nimport Modal from '../../components/UI/Modal/Modal';\r\nimport useHttpErrorHook from '../../hooks/http-error-handler/http-error-handler'\r\n\r\nconst withErrorHandler = (WrappedComponent, axios) => {\r\n    return (props) => {\r\n        const [error, clearError] = useHttpErrorHook(axios); \r\n\r\n        let errorMessage = null;\r\n        if (error) {\r\n            errorMessage = (\r\n                <div className='errorHandler'>\r\n                    <p className='errorHandler__title'>Error occurred</p>\r\n                    <p className='errorHandler__message'>{error.message}, please try again in few minutes</p>\r\n                </div>\r\n            );\r\n        };\r\n        return (\r\n            <React.Fragment>\r\n                <Modal \r\n                    show={error}\r\n                    clicked={clearError}>\r\n                    {errorMessage}\r\n                </Modal>\r\n                <WrappedComponent error={error} {...props}/>\r\n            </React.Fragment>\r\n        );\r\n    };\r\n};\r\n\r\nexport default withErrorHandler;","import { useState, useEffect } from 'react';\r\n\r\n\r\nexport default httpClient => {\r\n    const [error, setError] = useState(null);\r\n\r\n    const reqInterceptor = httpClient.interceptors.request.use(req => {\r\n        setError(null);\r\n        return req;\r\n    });\r\n    const resInterceptor = httpClient.interceptors.response.use(res => res, err => {\r\n        setError(err);\r\n    });\r\n  \r\n\r\n    //clear intercaptors when unMount\r\n    useEffect(() => {\r\n        return () => {\r\n        httpClient.interceptors.request.eject(reqInterceptor);\r\n        httpClient.interceptors.response.eject(resInterceptor);\r\n        }\r\n\r\n    }, [httpClient.interceptors.request, httpClient.interceptors.response, reqInterceptor, resInterceptor]);\r\n\r\n    const errorConfirmedHandler = () => {\r\n        setError(null);\r\n    };\r\n\r\n    return [error, errorConfirmedHandler]\r\n};","export const favoriteCheck = (selectedKey, favorites) => {\r\n    return favorites.some(element => element.cityKey === selectedKey);\r\n};","import React from 'react'; \r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { favoriteCheck } from '../../../shared/favoriteCheck';\r\nimport * as actions from '../../../store/actions/rootActions';\r\n\r\n\r\nconst FavoriteHeart = (props) => {\r\n    const { favorites } = useSelector(state => state.favorites);\r\n    const dispatch = useDispatch();\r\n    const onRemoveFavorite = (cityKey, favorites) => dispatch(actions.removeFavorite(cityKey, favorites));\r\n    const onAddFavorite = (cityKey, cityName, favorites) => dispatch(actions.addFavorite(cityKey, cityName, favorites));\r\n    const colors = {\r\n        selected: '#e31b23',\r\n        notSelected: '#777'\r\n    };\r\n\r\n    const heartStyle = {\r\n        backgroundColor: colors.notSelected,\r\n        height: props.height,\r\n        width: props.width\r\n    };\r\n\r\n    if (favoriteCheck(props.cityKey, favorites)) {\r\n        heartStyle.backgroundColor = colors.selected\r\n    };\r\n\r\n    const favoriteHandler = (cityKey, cityName) => {\r\n        if (favoriteCheck(cityKey, favorites)) {\r\n            onRemoveFavorite(cityKey, favorites);\r\n        } else {\r\n            onAddFavorite(cityKey, cityName, favorites);\r\n        };\r\n    };\r\n\r\n    return (\r\n            <div \r\n                className=\"favoriteHeart\"\r\n                style={heartStyle}\r\n                onClick={() => favoriteHandler(props.cityKey, props.cityName)}>\r\n            </div>\r\n    );\r\n};  \r\n\r\nexport default FavoriteHeart","module.exports = __webpack_public_path__ + \"static/media/sunLoading.3d7f5242.png\";","module.exports = __webpack_public_path__ + \"static/media/celsius.802510af.svg\";","module.exports = __webpack_public_path__ + \"static/media/fahrenheit.0a3403d1.svg\";","import * as actionTypes from './actionTypes';\r\n\r\nexport const changeTemp = () => {\r\n    return {\r\n        type: actionTypes.CHANGE_TEMP\r\n    };\r\n};\r\n\r\nexport const changeTheme = () => {\r\n    return {\r\n        type: actionTypes.CHANGE_THEME\r\n    };\r\n};","import * as actionTypes from './actionTypes';\r\n\r\n//Fatch autocomplete search\r\n    \r\nexport const fetchSearchSuccess = (results) => {\r\n    return {\r\n        type: actionTypes.FETCH_SEARCH_SUCCESS,\r\n        searchResults: results\r\n    };\r\n};\r\n\r\nexport const fetchSearch = (cityKey) => {\r\n    return {\r\n        type: actionTypes.FETCH_SEARCH,\r\n        value: cityKey\r\n    };\r\n};\r\n\r\nexport const clearSearchResults = () => {\r\n    return {\r\n        type: actionTypes.CLEAR_SEARCH_RESULTS\r\n    };\r\n};\r\n\r\nexport const updateSelectedCity = (cityName, cityKey) => {\r\n    return {\r\n        type: actionTypes.UPDATE_SELECTED_CITY,\r\n        cityName: cityName,\r\n        cityKey: cityKey\r\n    };\r\n};\r\n\r\n//Fetch current weather \r\n\r\nexport const fetchCityData = ( cityKey ) => {\r\n    return {\r\n        type: actionTypes.FETCH_CITY_DATA,\r\n        cityKey: cityKey\r\n    };\r\n};\r\n\r\nexport const fetchCityDataStart = () => {\r\n    return {\r\n        type: actionTypes.FETCH_CITY_DATA_START\r\n    };\r\n};\r\n\r\nexport const fetchCityDataSuccess = (currentWeather, forecast) => {\r\n    return {\r\n        type: actionTypes.FETCH_CITY_DATA_SUCCESS,\r\n        currentWeatherData: currentWeather,\r\n        forecastData: forecast\r\n    };\r\n};\r\n\r\n\r\n//Geo location \r\n\r\nexport const getGeoLocation = () => {\r\n    return {\r\n        type: actionTypes.GET_GEO_LOCATION\r\n    };\r\n};\r\n\r\nexport const fetchGeoLocation = (coords) => {\r\n    return {\r\n        type: actionTypes.FETCH_GEO_LOCATION,\r\n        coords: coords\r\n    };\r\n};  \r\n\r\nexport const fetchGeoLocationSuccess = (cityName, cityKey) => {\r\n    return {\r\n        type: actionTypes.FETCH_GEO_LOCATION_SUCCESS,\r\n        cityName: cityName,\r\n        cityKey: cityKey\r\n    };\r\n};  \r\n\r\nexport const fetchGeoLocationFail = () => {\r\n    return {\r\n        type: actionTypes.FETCH_GEO_LOCATION_FAIL\r\n    };\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import * as actionTypes from './actionTypes';\r\n\r\n//Sync actions (ADD/REMOVE/INIT)\r\nexport const initFavorites = () => {\r\n    let favorites = [];\r\n    const localFavorites = localStorage.getItem('userFav');\r\n    if (localFavorites !== null) {\r\n        favorites = JSON.parse(localFavorites);\r\n    };\r\n    return {\r\n        type: actionTypes.SET_FAVORITES,\r\n        newFavorites: favorites\r\n    };\r\n};\r\n\r\nexport const removeFavorite = (cityKey, favorites) => {\r\n    let newFavorites = favorites.filter(fav => cityKey !== fav.cityKey);\r\n    localStorage.setItem('userFav', JSON.stringify(newFavorites));\r\n    return {\r\n        type: actionTypes.SET_FAVORITES,\r\n        newFavorites: newFavorites\r\n    };\r\n};\r\n\r\nexport const addFavorite = (cityKey, cityName, favorites) => {\r\n    let newFavorites = favorites.concat({cityKey: cityKey, cityName: cityName});\r\n    localStorage.setItem('userFav', JSON.stringify(newFavorites));\r\n    return {\r\n        type: actionTypes.SET_FAVORITES,\r\n        newFavorites: newFavorites\r\n    };\r\n};\r\n\r\n//Async fetch all \r\nexport const fetchFavorites = (cityKeysList) => {\r\n    return {\r\n        type: actionTypes.FETCH_FAVORITES,\r\n        cityList: cityKeysList\r\n    };\r\n};\r\n\r\nexport const fetchFavoritesStart = () => {\r\n    return {\r\n        type: actionTypes.FETCH_FAVORITES_START\r\n    };\r\n};\r\n\r\nexport const fetchFavoritesSuccess = (results) => {\r\n    return {\r\n        type: actionTypes.FETCH_FAVORITES_SUCCESS,\r\n        citysData: results\r\n    };\r\n};\r\n\r\n\r\nexport const clearFetchedFavorites = () => {\r\n    return {\r\n        type: actionTypes.CLEAR_FETCHED_FAVORITES\r\n    };\r\n};","export { changeTemp, changeTheme } from './userSettings';\r\nexport {\r\n    fetchSearch, \r\n    fetchSearchSuccess, \r\n    clearSearchResults, \r\n    updateSelectedCity,\r\n    fetchCityData,\r\n    fetchCityDataStart,\r\n    fetchCityDataSuccess,\r\n    getGeoLocation,\r\n    fetchGeoLocation,\r\n    fetchGeoLocationSuccess,\r\n    fetchGeoLocationFail\r\n} from './home';\r\n\r\nexport {\r\n    initFavorites,\r\n    removeFavorite,\r\n    addFavorite,\r\n    fetchFavorites,\r\n    fetchFavoritesStart,\r\n    fetchFavoritesSuccess,\r\n    clearFetchedFavorites\r\n} from './favorites';","\r\nconst apiKey = 'u9RaORaXroYFdUkpSTgfjH3Rs8ETJ2bn';\r\nconst basePath = 'https://dataservice.accuweather.com/';\r\n\r\nexport const autoCompleteEndpoint = (q) => {\r\n    return basePath + 'locations/v1/cities/autocomplete?apikey=' + apiKey + '&q=' + q;\r\n};\r\n\r\nexport const currentWeatherEndpoint = (cityKey) => {\r\n    return basePath + 'currentconditions/v1/' + cityKey + '?apikey=' + apiKey;\r\n};\r\n\r\nexport const getoLocationEndpoint = (lat, lon) => {\r\n    return basePath + 'locations/v1/cities/geoposition/search?apikey=' + apiKey + '&q=' + lat + '%2C' + lon;\r\n};  \r\n\r\nexport const forecastEndpoint = (cityKey) => {\r\n    return basePath + 'forecasts/v1/daily/5day/' + cityKey + '?apikey=' + apiKey + '&metric=true';\r\n};","import { put, call, all } from 'redux-saga/effects';\r\nimport * as actions from '../actions/rootActions';\r\nimport axios from '../../shared/axios-weather';\r\nimport * as urlCreator from '../../shared/urlCreator';\r\n\r\nexport function* fetchSearchSaga(action) {\r\n    const searchEndpoint =  yield urlCreator.autoCompleteEndpoint(action.value);\r\n    try{\r\n        const response = yield axios.get(searchEndpoint);\r\n        yield put(actions.fetchSearchSuccess(response.data));\r\n    } catch (error) {\r\n        console.error(error);\r\n    };        \r\n};\r\n\r\nexport function* fetchCityDataSaga(action) {\r\n    const currentWeatherEndpoint = yield urlCreator.currentWeatherEndpoint(action.cityKey);\r\n    const forecastEndpoint = yield urlCreator.forecastEndpoint(action.cityKey);\r\n\r\n    yield put(actions.fetchCityDataStart());\r\n    try {\r\n        const [currentWeatherRes, forecastRes ] = yield all([\r\n            call(axios.get, currentWeatherEndpoint),\r\n            call(axios.get, forecastEndpoint)\r\n        ]);\r\n        yield put(actions.fetchCityDataSuccess(currentWeatherRes.data, forecastRes.data));\r\n    } catch (error) {\r\n        console.error(error);\r\n    }\r\n};\r\n\r\nconst getUserLocation = () => new Promise((resolve) => {\r\n    navigator.geolocation.getCurrentPosition(\r\n        location => resolve(location),\r\n        error => resolve(error),\r\n    );\r\n});\r\n\r\nexport function* getGeoLocationSaga(action) {\r\n    const location  = yield call(getUserLocation);\r\n    if ( location.coords ) {\r\n        yield put(actions.fetchGeoLocation(location.coords));\r\n    } else {\r\n        yield put(actions.updateSelectedCity('Tel-Aviv', '215854'));\r\n        yield put(actions.fetchGeoLocationFail());\r\n    };\r\n};\r\n\r\nexport function* fetchGeoLocationSaga (action) {\r\n    const { latitude, longitude } = action.coords;\r\n    const geoEndpoint = yield urlCreator.getoLocationEndpoint(latitude, longitude);\r\n    try {\r\n        const response = yield axios.get(geoEndpoint); \r\n        const { EnglishName, Key } = response.data;\r\n        yield put(actions.fetchGeoLocationSuccess(EnglishName, Key));\r\n    } catch (error) {\r\n        yield put(actions.updateSelectedCity('Tel-Aviv', '215854'));\r\n        yield put(actions.fetchGeoLocationFail());\r\n    };\r\n};\r\n\r\n\r\n","import { put, all } from 'redux-saga/effects';\r\nimport axios from '../../shared/axios-weather';\r\nimport { currentWeatherEndpoint } from '../../shared/urlCreator';\r\nimport * as actions from '../actions/rootActions';\r\n\r\n\r\nexport function* fetchFavoritesSaga(action) {\r\n    yield put(actions.fetchFavoritesStart());\r\n    let results = [];\r\n    const apiCalls = yield action.cityList.map(key => fetchSingleFav(key));\r\n    results = yield all(apiCalls);\r\n    let checkErrors = false;\r\n    for (let i = 0; i < results.length; i++) {\r\n        if (typeof results[i] === \"undefined\" ) {\r\n            checkErrors = true;\r\n        }\r\n    };\r\n    if (!checkErrors) {\r\n        yield put(actions.fetchFavoritesSuccess(results));\r\n    }\r\n};\r\n\r\nfunction* fetchSingleFav(cityKey) {\r\n    const fetchEndpoint = currentWeatherEndpoint(cityKey);\r\n    try {\r\n        const response = yield axios.get(fetchEndpoint);\r\n        const transformedData = {cityKey: cityKey, data: response.data};\r\n        return transformedData;\r\n    } catch (error) {\r\n        console.error('Error fetching Favorite: ' + cityKey);\r\n    };\r\n};\r\n\r\n","import { all, takeLatest, takeEvery } from 'redux-saga/effects';\r\nimport * as actionTypes from '../actions/actionTypes';\r\nimport { \r\n    fetchSearchSaga, \r\n    fetchCityDataSaga, \r\n    getGeoLocationSaga, \r\n    fetchGeoLocationSaga \r\n} from './home';\r\nimport { fetchFavoritesSaga } from './favorites'\r\n\r\n\r\nexport function* watchHome() {\r\n    yield all ([\r\n        takeLatest(actionTypes.FETCH_SEARCH, fetchSearchSaga),\r\n        takeLatest(actionTypes.FETCH_CITY_DATA, fetchCityDataSaga),\r\n        takeEvery(actionTypes.GET_GEO_LOCATION, getGeoLocationSaga),\r\n        takeEvery(actionTypes.FETCH_GEO_LOCATION, fetchGeoLocationSaga)\r\n    ]);\r\n};\r\n\r\nexport function* watchFavorites() {\r\n    yield all ([\r\n        takeLatest(actionTypes.FETCH_FAVORITES, fetchFavoritesSaga)\r\n    ]);\r\n};\r\n\r\n","import * as actionTypes from '../actions/actionTypes';\r\n\r\n// '215854' 'Tel-Aviv'\r\nconst initialState = {\r\n    selectedCityKey: null,\r\n    selectedCityName: null,\r\n    searchResults: [],\r\n    fetchCityDataLoading: true,\r\n    currentWeather: null,\r\n    forecasts: null,\r\n    geoLocationArrived: false,\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case actionTypes.FETCH_SEARCH_SUCCESS:\r\n            return {\r\n                ...state,\r\n                searchResults: action.searchResults\r\n            }\r\n        case actionTypes.CLEAR_SEARCH_RESULTS:\r\n            return {\r\n                ...state,\r\n                searchResults: []\r\n            }\r\n        case actionTypes.UPDATE_SELECTED_CITY:\r\n            \r\n            return {\r\n                ...state,\r\n                selectedCityKey: action.cityKey,\r\n                selectedCityName: action.cityName\r\n            };\r\n        case actionTypes.FETCH_CITY_DATA_START:\r\n            return {\r\n                ...state,\r\n                fetchCityDataLoading: true\r\n            };\r\n        case actionTypes.FETCH_CITY_DATA_SUCCESS:\r\n            return {\r\n                ...state,\r\n                currentWeatherLoading: false,\r\n                currentWeather: action.currentWeatherData,\r\n                forecasts: action.forecastData,\r\n                fetchCityDataLoading: false\r\n\r\n            };\r\n        case actionTypes.FETCH_GEO_LOCATION_SUCCESS:\r\n            return {\r\n                ...state,\r\n                selectedCityKey: action.cityKey,\r\n                selectedCityName: action.cityName,\r\n                geoLocationArrived: true\r\n            };\r\n        case actionTypes.FETCH_GEO_LOCATION_FAIL:\r\n            return {\r\n                ...state,\r\n                geoLocationArrived: true\r\n            }\r\n        default: return state;\r\n    };\r\n};\r\n\r\nexport default reducer;","import * as actionTypes from '../actions/actionTypes';\r\n\r\n\r\nconst initialState = {\r\n    favorites: [],\r\n    fetchedFavorites: [],\r\n    fetchFavoritesLoading: true\r\n};\r\n\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case actionTypes.SET_FAVORITES: \r\n            return { \r\n                ...state,\r\n                favorites: action.newFavorites \r\n            };\r\n        case actionTypes.FETCH_FAVORITES_START:\r\n            return {\r\n                ...state,\r\n                fetchFavoritesLoading: true\r\n            }\r\n        case actionTypes.FETCH_FAVORITES_SUCCESS:\r\n            return {\r\n                ...state,\r\n                fetchedFavorites: action.citysData,\r\n                fetchFavoritesLoading: false\r\n            };\r\n        case actionTypes.CLEAR_FETCHED_FAVORITES:\r\n            return {\r\n                ...state,\r\n                fetchedFavorites: [],\r\n                fetchFavoritesLoading: true\r\n            }\r\n        default: return state;\r\n    };\r\n};\r\n\r\nexport default reducer;","import * as actionTypes from '../actions/actionTypes';\r\n\r\nconst initialState = {\r\n    metric: true,\r\n    darkTheme: false\r\n\r\n}\r\n\r\nconst reducer = ( state = initialState, action ) => {\r\n    switch (action.type) {\r\n        case actionTypes.CHANGE_TEMP:\r\n            return {\r\n                ...state,\r\n                metric: !state.metric\r\n            };\r\n        case actionTypes.CHANGE_THEME:\r\n            return {\r\n                ...state,\r\n                darkTheme: !state.darkTheme\r\n            }\r\n        default: return state\r\n    };\r\n};\r\n\r\nexport default reducer;","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { validLetter } from '../../../shared/validEnglishLetters';\r\nimport * as actions from '../../../store/actions/rootActions';\r\n    \r\nconst AutoCompleteInput = (props) => {\r\n    const [ inputVal, setInputVal ] = useState('');\r\n    const { selectedCityKey } = useSelector(state => state.home);\r\n    const dispatch = useDispatch();\r\n    const onSearchCityFetch = useCallback((cityKey) => dispatch(actions.fetchSearch(cityKey)), [dispatch]);\r\n    const onClearSearchResults = useCallback(() => dispatch(actions.clearSearchResults()), [dispatch])\r\n    \r\n    useEffect(() => {\r\n        if ( inputVal !== ' ' && inputVal.length !== 0 ) {\r\n            const timer = setTimeout(() => {\r\n                onSearchCityFetch(inputVal);\r\n            }, 300);\r\n            return () => {\r\n                clearTimeout(timer);\r\n            };\r\n        };\r\n    },[inputVal, onSearchCityFetch]);\r\n\r\n    //for resetting the input when new city selected\r\n    useEffect(() => {\r\n        setInputVal('');\r\n    }, [selectedCityKey])\r\n\r\n    const inputChangedHandler = (event) => {\r\n        setInputVal(event.target.value);\r\n        if ( event.target.value.length === 0 ) {\r\n            onClearSearchResults();\r\n        };\r\n    };\r\n\r\n    const validKeyHandler = (event) => {\r\n        if (!validLetter(event)){\r\n            event.preventDefault()\r\n        };\r\n    };\r\n\r\n    return (\r\n        <input\r\n            className='searchCity__input'\r\n            placeholder='Search city'\r\n            type='text'\r\n            onChange={inputChangedHandler}\r\n            onKeyPress={validKeyHandler}\r\n            value={inputVal} />\r\n    ) ;\r\n};\r\n\r\nexport default AutoCompleteInput;","export const validLetter = ( event ) => {\r\n    const { charCode } = event ;\r\n    if(charCode >= 60 && charCode <= 90){\r\n        return true;\r\n    };\r\n    if(charCode >= 97 && charCode <= 122){\r\n        return true;\r\n    };\r\n    if(charCode === 32){\r\n        return true\r\n    };\r\n    return false;\r\n};","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport * as actions from '../../../store/actions/rootActions';\r\n\r\nconst SearchResults = () => {\r\n\r\n    const { selectedCityKey } = useSelector( state => state.home);\r\n    const { searchResults } = useSelector(state => state.home);\r\n    const dispatch = useDispatch();\r\n    const onSelectCity = (cityName, cityKey) => dispatch(actions.updateSelectedCity(cityName, cityKey))\r\n    const onClearSearchResults = () => dispatch(actions.clearSearchResults());\r\n    \r\n    const selectCity = (cityName, cityKey) => {\r\n        if (cityName !== selectedCityKey ) {\r\n            onSelectCity(cityName, cityKey);\r\n            onClearSearchResults();\r\n        };       \r\n    };\r\n    \r\n\r\n    \r\n    const results = searchResults.map(city => {\r\n        const { LocalizedName, Key } = city;\r\n        return (\r\n            <li\r\n                className='searchCity__item'\r\n                onClick={() => selectCity(LocalizedName, Key)}\r\n                key={Key} \r\n                >\r\n                {LocalizedName}\r\n            </li>             \r\n        );\r\n    })\r\n    \r\n    return (\r\n        <ul className='searchCity__results'>\r\n            {results}\r\n        </ul>\r\n    );\r\n};\r\n\r\nexport default SearchResults;","import React from 'react';\r\n\r\n\r\nimport AutoCompleteInput from './AutCompleteInput/AutoCompleteInput';\r\nimport SearchResults from './SearchResults/SearchResults';\r\n\r\nconst SearchCity = (props) => {\r\n\r\n    return (\r\n        <div className='searchCity'>\r\n            <div className=\"searchCity-wrapper\">\r\n                <AutoCompleteInput />\r\n                <SearchResults />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SearchCity;","import React from 'react';\r\nimport FavoriteHeart from '../../UI/FavoriteHeart/FavoriteHeart';\r\n// import SunIcon from '../../../assets/images/weather-icons/01-s.png';\r\nimport { getIconPath } from '../../../shared/getIconPath';\r\n\r\nconst CityHeader = (props) => {\r\n\r\n    return (\r\n        <header className='cityHeader'>\r\n            <div className='cityHeader__details'>\r\n                <p className='cityHeader__details-title'>{props.cCityName}</p>\r\n                <div className=\"cityHeader__details-container\">\r\n                    <img className='cityHeader__icon' src={getIconPath(props.cWeatherIcon)} alt={'dsd'} />\r\n                    <div className=\"cityHeader__details-subContainer\">\r\n                        <p className='cityHeader__details-temp'>{props.cWeatherTemp}°</p>\r\n                        <div className='cityHeader__details-text'><em>{props.cWeatherText}</em></div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            \r\n            <FavoriteHeart \r\n                cityKey={props.cCityKey}\r\n                cityName={props.cCityName}\r\n                height='7rem'\r\n                width='7rem' />\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default CityHeader;","export const celToFar = (celcius) => {\r\n   \r\n    return ((celcius * 1.8) + 32).toFixed(0);\r\n};  ","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { getIconPath } from '../../../../shared/getIconPath';\r\nimport { getWeekDay } from '../../../../shared/getWeekDay';\r\nimport { celToFar } from '../../../../shared/convertTemp'\r\n\r\n\r\nconst DayForecast = (props) => {\r\n    \r\n    const { Temperature, Day, Night  } = props.dailyForecast;\r\n    const date = props.dailyForecast.Date;\r\n    const dayIconPath = getIconPath(Day.Icon);\r\n    const nightIconPath = getIconPath(Night.Icon);\r\n    let dayTemp = Math.round(Temperature.Maximum.Value);\r\n    let nightTemp = Math.round(Temperature.Minimum.Value);\r\n    const weekDayNumber = new Date(date).getDay();\r\n    const weekDay = getWeekDay(weekDayNumber);\r\n    const { metric } = useSelector(state => state.userSettings);\r\n\r\n    if (!metric) {\r\n        dayTemp = celToFar(dayTemp);\r\n        nightTemp = celToFar(nightTemp);\r\n    }\r\n\r\n    return (\r\n        <div className='cityForecast__day'>\r\n            <p className='cityForecast__day-title'>{weekDay}</p>\r\n            <div className='cityForecast__day-container'>\r\n                <div className='cityForecast__details'>\r\n                    <p className='cityForecast__details-title'>Day:</p>\r\n                    <p className='cityForecast__details-temp'>{dayTemp}°</p>\r\n                    <img className='cityForecast__icon' src={dayIconPath} alt={'dsd'} />\r\n                </div>\r\n                <div className='cityForecast__details'>\r\n                    <p className='cityForecast__details-title'>Night:</p>\r\n                    <p className='cityForecast__details-temp'>{nightTemp}°</p>\r\n                    <img className='cityForecast__details-icon' src={nightIconPath} alt={'dsd'} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default React.memo(DayForecast);","export const getWeekDay = (weekDayNum) => {\r\n    const weekDayList = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n    return weekDayList[weekDayNum];\r\n};","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport DayForecast from './DayForecast/DayForecast';\r\n\r\n\r\nconst CityForecast = () => {\r\n    console.log('CityForecast RENDER');\r\n    const { forecasts } = useSelector(state => state.home);\r\n  \r\n    \r\n    let forecastsList = null;\r\n    if (forecasts) {\r\n    \r\n        const { Headline, DailyForecasts} = forecasts;\r\n        forecastsList = (\r\n            <React.Fragment>\r\n                <h1 className='cityForecast__title'><em>{Headline.Text}</em></h1>\r\n                <div className='cityForecast__forecasts'>\r\n                    {DailyForecasts.map(dayForecast => {\r\n                        return <DayForecast \r\n                            key={dayForecast.EpochDate}\r\n                            dailyForecast={dayForecast}/>\r\n                    })}\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className='cityForecast'>\r\n            {forecastsList}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default React.memo(CityForecast);","import React, { useEffect, useCallback } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport CityHeader from './CityHeader/CityHeader';\r\nimport CityForecast from './CityForecast/CityForecast';\r\nimport * as actions from '../../store/actions/rootActions';\r\nimport Spinner from '../UI/Spinner/Spinner';\r\n\r\nconst CurrentCity = () => {\r\n    console.log('currentCity RENDER');\r\n    const { selectedCityKey, selectedCityName, fetchCityDataLoading  } = useSelector(state => state.home); \r\n    const currentWeather = useSelector(state => state.home.currentWeather);\r\n    const { metric } = useSelector(state => state.userSettings);\r\n    const dispatch = useDispatch();\r\n    const onFetchCityDetails = useCallback((cityKey) => dispatch(actions.fetchCityData(cityKey)), [dispatch]);\r\n    \r\n    useEffect(() => {\r\n        if (selectedCityKey) {\r\n            onFetchCityDetails(selectedCityKey)\r\n        };\r\n    }, [onFetchCityDetails, selectedCityKey]);\r\n\r\n\r\n    let content = <Spinner />;\r\n\r\n    if (!fetchCityDataLoading) {\r\n        var { WeatherText, WeatherIcon, Temperature } = currentWeather[0];\r\n        var currentTemp = Temperature.Metric.Value;\r\n        if (!metric) {\r\n            currentTemp = Temperature.Imperial.Value;\r\n        };\r\n\r\n        content = (\r\n            <React.Fragment>\r\n                <CityHeader \r\n                    cWeatherText={WeatherText}\r\n                    cWeatherIcon={WeatherIcon}\r\n                    cWeatherTemp={currentTemp}\r\n                    cCityName={selectedCityName}\r\n                    cCityKey={selectedCityKey} />\r\n                <CityForecast />\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className='currentCity'>\r\n            <div className='currentCity__box'>\r\n                {content}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CurrentCity;","import React from 'react'; \r\nimport SearchCity from '../../components/SearchCity/SearchCity';\r\nimport CurrentCity from '../../components/CurrentCity/CurrentCity';\r\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler';\r\nimport axios from '../../shared/axios-weather';\r\n\r\nconst Home = props => {\r\n    console.log('home Render');\r\n    \r\n    return (\r\n    <div className='home'>\r\n        <SearchCity />\r\n        <CurrentCity />\r\n    </div>\r\n    );\r\n};\r\n\r\n\r\nexport default withErrorHandler(Home, axios);","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\nconst NavLinks = () => {\r\n    return (\r\n        <ul className=\"navigation__links\">\r\n            <li className='navigation__item'>\r\n                <NavLink\r\n                    to=\"/\"\r\n                    exact\r\n                    className='navigation__link'\r\n                    activeClassName=\"navigation__item--active\"\r\n                    >Home\r\n                </NavLink>\r\n            </li>\r\n\r\n            <li className='navigation__item'>\r\n                <NavLink\r\n                    to=\"/favorites\"\r\n                    className='navigation__link'\r\n                    activeClassName=\"navigation__item--active\"\r\n                    >Favorites\r\n                </NavLink>\r\n            </li>\r\n            \r\n            \r\n        </ul>\r\n    );\r\n};\r\n\r\nexport default NavLinks;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Logo = () => {\r\n\r\n    return (\r\n        <Link className='navigation__logo' to=\"/\">\r\n            <h1>Herolo Weather</h1>\r\n        </Link>\r\n    );\r\n};\r\n\r\nexport default Logo;","import React from 'react';\r\nimport celcius from '../../../assets/images/celsius.svg';\r\nimport fahrenheit  from '../../../assets/images/fahrenheit.svg'\r\nimport { useDispatch, useSelector } from 'react-redux'; \r\nimport * as actions from '../../../store/actions/rootActions';\r\n\r\nconst TempCheckBox = props => {\r\n    const dispatch = useDispatch();\r\n    const metric = useSelector((state) => state.userSettings.metric);\r\n    const onChangeTemp = () => dispatch(actions.changeTemp());\r\n\r\n\r\n    const changeTempHandler = () => {\r\n        onChangeTemp();\r\n    };\r\n\r\n    let tempSignPath =  celcius;\r\n\r\n    if ( !metric ) {\r\n        tempSignPath = fahrenheit;\r\n    };\r\n\r\n    return (\r\n        <div className=\"tempCheckBox\" onClick={changeTempHandler}>\r\n            <p className='tempCheckBox__title'>Temperature</p>\r\n            <img className='tempCheckBox__img' src={tempSignPath} alt='Temp Selector'></img>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TempCheckBox;","import React from 'react';\r\n\r\n\r\nimport NavLinks from './NavLinks/NavLinks'\r\nimport Logo from '../Logo/Logo';\r\nimport TempCheckBox from '../UI/TempCheckBox/TempCheckBox'\r\n\r\nconst Navigation = props => {\r\n    return (\r\n        <div className=\"navigation\">\r\n            <React.Fragment> \r\n                <Logo />\r\n                <NavLinks />\r\n                <div className=\"navigation__settings\">\r\n                    <TempCheckBox />\r\n                    {/* <ThemeSelector /> */}\r\n                </div>\r\n            </React.Fragment>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Navigation;","import React from 'react';\r\n\r\n\r\nconst Footer = () => {\r\n    console.log('Footer RENDER');\r\n    return (\r\n        <div className='footer'>\r\n            <p className='footer__title'>Developed by Yaron Sultan - 2019</p>\r\n            <div className='footer__media'>\r\n                <a className='footer__icon footer__icon--linkedin' href='https://www.linkedin.com/in/yaron-sultan-b52bb9164/'>&nbsp;</a>\r\n                <a className='footer__icon footer__icon--github' href='https://github.com/Sultanyaron'>&nbsp;</a>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nimport Navigation from '../../components/Navigation/Navigation';\r\nimport Footer from '../../components/Footer/Footer';\r\n\r\n\r\nconst Layout = props => {\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Navigation />\r\n            {/* Pages switcher with Lazy Loading of Favorite component */}\r\n            { props.children }\r\n            <Footer />\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default Layout;","import React, { Suspense, useEffect, useCallback } from 'react';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport * as actions from './store/actions/rootActions';\r\n\r\nimport Home from './containers/Home/Home';\r\nimport Layout from './hoc/Layout/Layout';\r\n\r\nconst Favorites = React.lazy(() => {\r\n    return import('./containers/Favorites/Favorites');\r\n});\r\n\r\n\r\nconst App = props => {\r\n    const dispatch = useDispatch();\r\n    const onInitFavorites = useCallback(() => dispatch(actions.initFavorites()), [dispatch]);\r\n    const onGetGeoLocation = useCallback(() => dispatch(actions.getGeoLocation()), [dispatch]);\r\n\r\n    useEffect(() => {\r\n        onInitFavorites();\r\n    }, [onInitFavorites] );\r\n\r\n    useEffect(() => {\r\n        onGetGeoLocation();\r\n    }, [onGetGeoLocation]);\r\n\r\n    let routes = (\r\n        <Switch>\r\n            <Route path={\"/favorites\"} component={Favorites}  />\r\n            <Route path={\"/\"} component={Home} />\r\n            <Redirect to={\"/\"} />\r\n        </Switch>\r\n    ); \r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <Layout>\r\n                <Suspense fallback={<p>Loading...</p>}> <main className='mainContainer'>{ routes }</main>  </Suspense>\r\n            </Layout>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { compose, combineReducers, createStore, applyMiddleware } from 'redux';\nimport { watchHome, watchFavorites } from './store/sagas/rootSaga';\nimport { BrowserRouter } from 'react-router-dom';\nimport createSagaMiddleware from 'redux-saga';\nimport thunk from 'redux-thunk';\nimport homeReducer from './store/reducers/home';\nimport favoriteReducer from './store/reducers/favorites';\nimport userSettingsReducer from './store/reducers/userSettings';\n\nimport './assets/sass/main.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n\nconst composeEnhancers = process.env.NODE_ENV === 'development' ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : null || compose;\n\nconst rootReducer = combineReducers({\n    home: homeReducer,\n    favorites : favoriteReducer,\n    userSettings: userSettingsReducer\n});\n\nconst sagaMiddleware = createSagaMiddleware();\n\nconst store = createStore(rootReducer, composeEnhancers(\n    applyMiddleware(thunk, sagaMiddleware)\n));\n\nsagaMiddleware.run(watchHome);\nsagaMiddleware.run(watchFavorites);\n\nconst app = (\n    <Provider store={store}>\n        <BrowserRouter basename={process.env.PUBLIC_URL}>\n            <App />\n        </BrowserRouter>\n    </Provider>\n);\n\nReactDOM.render(app, document.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}