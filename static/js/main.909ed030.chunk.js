(this["webpackJsonpherolo-assignment-v2"]=this["webpackJsonpherolo-assignment-v2"]||[]).push([[0],{16:function(e,t,n){"use strict";var r=n(45),a=n.n(r).a.create({baseURL:"https://dataservice.accuweather.com/"});t.a=a},22:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return"./icons/"+e+"-s.png"}},3:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"n",(function(){return c})),n.d(t,"o",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"r",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return m})),n.d(t,"p",(function(){return f})),n.d(t,"k",(function(){return d})),n.d(t,"m",(function(){return y})),n.d(t,"l",(function(){return v})),n.d(t,"q",(function(){return p})),n.d(t,"h",(function(){return E})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return b})),n.d(t,"c",(function(){return _}));var r="CHANGE_TEMP",a="CHANGE_THEME",c="FETCH_SEARCH",i="FETCH_SEARCH_SUCCESS",o="CLEAR_SEARCH_RESULTS",u="UPDATE_SELECTED_CITY",s="FETCH_CITY_DATA",l="FETCH_CITY_DATA_START",m="FETCH_CITY_DATA_SUCCESS",f="GET_GEO_LOCATION",d="FETCH_GEO_LOCATION",y="FETCH_GEO_LOCATION_SUCCESS",v="FETCH_GEO_LOCATION_FAIL",p="SET_FAVORITES",E="FETCH_FAVORITES",h="FETCH_FAVORITES_START",b="FETCH_FAVORITES_SUCCESS",_="CLEAR_FETCHED_FAVORITES"},41:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(7),i=n(6);t.a=function(e){console.log(e);var t=Object(c.c)((function(e){return e.favorites})).favorites,n=Object(c.b)(),r="#e31b23",o={backgroundColor:"#777",height:e.height,width:e.width},u=function(e,t){return t.some((function(t){return t.cityKey===e}))};u(e.cityKey,t)&&(o.backgroundColor=r);var s=function(e,r){u(e,t)?function(e,t){n(i.r(e,t))}(e,t):function(e,t,r){n(i.a(e,t,r))}(e,r,t)};return a.a.createElement("div",{className:"favoriteHeart",style:o,onClick:function(){return s(e.cityKey,e.cityName)}})}},42:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(48),i=n.n(c);t.a=function(e){return a.a.createElement("img",{className:"spinner",src:i.a,alt:"Loading..."})}},43:function(e,t,n){"use strict";var r=n(20),a=n(0),c=n.n(a),i=function(e){return e.show?c.a.createElement("div",{className:"backdrop",onClick:e.clicked}):null},o=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(i,{show:e.show,clicked:e.clicked}),c.a.createElement("div",{className:"modal",style:{transform:e.show?"translate(-50% , 0) ":"translate(-50% , -100vh)",opacity:e.show?"1":"0"}},e.children))};t.a=function(e,t){return function(n){var i=function(e){var t=Object(a.useState)(null),n=Object(r.a)(t,2),c=n[0],i=n[1],o=e.interceptors.request.use((function(e){return i(null),e})),u=e.interceptors.response.use((function(e){return e}),(function(e){i(e)}));Object(a.useEffect)((function(){return function(){e.interceptors.request.eject(o),e.interceptors.response.eject(u)}}),[e.interceptors.request,e.interceptors.response,o,u]);return[c,function(){i(null)}]}(t),u=Object(r.a)(i,2),s=u[0],l=u[1],m=null;return s&&(m=c.a.createElement("div",{className:"errorHandler"},c.a.createElement("p",{className:"errorHandler__title"},"Error occurred"),c.a.createElement("p",{className:"errorHandler__message"},s.message,", please try again in few minutes"))),c.a.createElement(c.a.Fragment,null,c.a.createElement(o,{show:s,clicked:l},m),c.a.createElement(e,Object.assign({error:s},n)))}}},48:function(e,t,n){e.exports=n.p+"static/media/sunLoading.3d7f5242.png"},50:function(e,t,n){e.exports=n.p+"static/media/celsius.802510af.svg"},51:function(e,t,n){e.exports=n.p+"static/media/fahrenheit.0a3403d1.svg"},53:function(e,t,n){e.exports=n(82)},6:function(e,t,n){"use strict";var r=n(3),a=function(){return{type:r.a}},c=function(e){return{type:r.o,searchResults:e}},i=function(e){return{type:r.n,value:e}},o=function(){return{type:r.d}},u=function(e,t){return{type:r.r,cityName:e,cityKey:t}},s=function(e){return{type:r.e,cityKey:e}},l=function(){return{type:r.f}},m=function(e,t){return{type:r.g,currentWeatherData:e,forecastData:t}},f=function(){return{type:r.p}},d=function(e){return{type:r.k,coords:e}},y=function(e,t){return{type:r.m,cityName:e,cityKey:t}},v=function(){return{type:r.l}},p=function(){var e=[],t=localStorage.getItem("userFav");return null!==t&&(e=JSON.parse(t)),{type:r.q,newFavorites:e}},E=function(e,t){var n=t.filter((function(t){return e!==t.cityKey}));return localStorage.setItem("userFav",JSON.stringify(n)),{type:r.q,newFavorites:n}},h=function(e,t,n){var a=n.concat({cityKey:e,cityName:t});return localStorage.setItem("userFav",JSON.stringify(a)),{type:r.q,newFavorites:a}},b=function(e){return{type:r.h,cityList:e}},_=function(){return{type:r.i}},g=function(e){return{type:r.j,citysData:e}},O=function(){return{type:r.c}};n.d(t,"b",(function(){return a})),n.d(t,"n",(function(){return i})),n.d(t,"o",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"s",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return m})),n.d(t,"p",(function(){return f})),n.d(t,"k",(function(){return d})),n.d(t,"m",(function(){return y})),n.d(t,"l",(function(){return v})),n.d(t,"q",(function(){return p})),n.d(t,"r",(function(){return E})),n.d(t,"a",(function(){return h})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return _})),n.d(t,"j",(function(){return g})),n.d(t,"c",(function(){return O}))},80:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(24),i=n.n(c),o=n(7),u=n(18),s=n(9),l=n.n(s),m=n(8),f=n(3),d=n(20),y=n(6),v=n(16),p="u9RaORaXroYFdUkpSTgfjH3Rs8ETJ2bn",E="https://dataservice.accuweather.com/",h=function(e){return E+"locations/v1/cities/autocomplete?apikey="+p+"&q="+e},b=function(e){return E+"currentconditions/v1/"+e+"?apikey="+p},_=function(e,t){return E+"locations/v1/cities/geoposition/search?apikey="+p+"&q="+e+"%2C"+t},g=function(e){return E+"forecasts/v1/daily/5day/"+e+"?apikey="+p+"&metric=true"},O=l.a.mark(F),N=l.a.mark(T),C=l.a.mark(w),j=l.a.mark(x);function F(e){var t,n;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,h(e.value);case 2:return t=r.sent,r.prev=3,r.next=6,v.a.get(t);case 6:return n=r.sent,r.next=9,Object(m.c)(y.o(n.data));case 9:r.next=14;break;case 11:r.prev=11,r.t0=r.catch(3),console.error(r.t0);case 14:case 15:case"end":return r.stop()}}),O,null,[[3,11]])}function T(e){var t,n,r,a,c,i;return l.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,b(e.cityKey);case 2:return t=o.sent,o.next=5,g(e.cityKey);case 5:return n=o.sent,o.next=8,Object(m.c)(y.f());case 8:return o.prev=8,o.next=11,Object(m.a)([Object(m.b)(v.a.get,t),Object(m.b)(v.a.get,n)]);case 11:return r=o.sent,a=Object(d.a)(r,2),c=a[0],i=a[1],o.next=17,Object(m.c)(y.g(c.data,i.data));case 17:o.next=22;break;case 19:o.prev=19,o.t0=o.catch(8),console.error(o.t0);case 22:case"end":return o.stop()}}),N,null,[[8,19]])}var k=function(){return new Promise((function(e){navigator.geolocation.getCurrentPosition((function(t){return e(t)}),(function(t){return e(t)}))}))};function w(e){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.b)(k);case 2:if(!(t=e.sent).coords){e.next=8;break}return e.next=6,Object(m.c)(y.k(t.coords));case 6:e.next=12;break;case 8:return e.next=10,Object(m.c)(y.s("Tel-Aviv","215854"));case 10:return e.next=12,Object(m.c)(y.l());case 12:case 13:case"end":return e.stop()}}),C)}function x(e){var t,n,r,a,c,i,o,u;return l.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.coords,n=t.latitude,r=t.longitude,s.next=3,_(n,r);case 3:return a=s.sent,s.prev=4,s.next=7,v.a.get(a);case 7:return c=s.sent,i=c.data,o=i.EnglishName,u=i.Key,s.next=11,Object(m.c)(y.m(o,u));case 11:s.next=19;break;case 13:return s.prev=13,s.t0=s.catch(4),s.next=17,Object(m.c)(y.s("Tel-Aviv","215854"));case 17:return s.next=19,Object(m.c)(y.l());case 19:case 20:case"end":return s.stop()}}),j,null,[[4,13]])}var S=l.a.mark(A),H=l.a.mark(D);function A(e){var t,n,r,a;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(m.c)(y.i());case 2:return t=[],c.next=5,e.cityList.map((function(e){return D(e)}));case 5:return n=c.sent,c.next=8,Object(m.a)(n);case 8:for(t=c.sent,r=!1,a=0;a<t.length;a++)"undefined"===typeof t[a]&&(r=!0);if(r){c.next=15;break}return c.next=15,Object(m.c)(y.j(t));case 15:case"end":return c.stop()}}),S)}function D(e){var t,n,r;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=b(e),a.prev=1,a.next=4,v.a.get(t);case 4:return n=a.sent,r={cityKey:e,data:n.data},a.abrupt("return",r);case 9:a.prev=9,a.t0=a.catch(1),console.error("Error fetching Favorite: "+e);case 12:case 13:case"end":return a.stop()}}),H,null,[[1,9]])}var R=l.a.mark(K),L=l.a.mark(I);function K(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.a)([Object(m.e)(f.n,F),Object(m.e)(f.e,T),Object(m.d)(f.p,w),Object(m.d)(f.k,x)]);case 2:case"end":return e.stop()}}),R)}function I(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.a)([Object(m.e)(f.h,A)]);case 2:case"end":return e.stop()}}),L)}var W=n(19),P=n(52),q=n(46),V=n(47);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var U=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(n,!0).forEach((function(t){Object(V.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},t)},G={selectedCityKey:null,selectedCityName:null,searchResults:[],fetchCityDataLoading:!0,currentWeather:null,forecasts:null,geoLocationArrived:!1},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.o:return U(e,{searchResults:t.searchResults});case f.d:return U(e,{searchResults:[]});case f.r:return U(e,{selectedCityKey:t.cityKey,selectedCityName:t.cityName});case f.f:return U(e,{fetchCityDataLoading:!0});case f.g:return U(e,{currentWeather:t.currentWeatherData,forecasts:t.forecastData,fetchCityDataLoading:!1});case f.m:return U(e,{selectedCityKey:t.cityKey,selectedCityName:t.cityName,geoLocationArrived:!0});case f.l:return U(e,{geoLocationArrived:!0});default:return e}},Y={favorites:[],fetchedFavorites:[],fetchFavoritesLoading:!0},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.q:return U(e,{favorites:t.newFavorites});case f.i:return U(e,{fetchFavoritesLoading:!0});case f.j:return U(e,{fetchedFavorites:t.citysData,fetchFavoritesLoading:!1});case f.c:return U(e,{fetchedFavorites:[],fetchFavoritesLoading:!0});default:return e}},z={metric:!0,darkTheme:!1},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.a:return U(e,{metric:!e.metric});case f.b:return U(e,{darkTheme:!e.darkTheme});default:return e}},$=(n(80),n(21)),Q=function(e){var t=Object(r.useState)(""),n=Object(d.a)(t,2),c=n[0],i=n[1],u=Object(o.c)((function(e){return e.home})).selectedCityKey,s=Object(o.b)(),l=Object(r.useCallback)((function(e){return s(y.n(e))}),[s]),m=Object(r.useCallback)((function(){return s(y.d())}),[s]);Object(r.useEffect)((function(){if(" "!==c&&0!==c.length){var e=setTimeout((function(){l(c)}),300);return function(){clearTimeout(e)}}}),[c,l]),Object(r.useEffect)((function(){i("")}),[u]);return a.a.createElement("input",{className:"searchCity__input",placeholder:"Search city",type:"text",onChange:function(e){i(e.target.value),0===e.target.value.length&&m()},onKeyPress:function(e){(function(e){var t=e.charCode;return t>=60&&t<=90||(t>=97&&t<=122||32===t)})(e)||e.preventDefault()},value:c})},Z=function(){var e=Object(o.c)((function(e){return e.home})).selectedCityKey,t=Object(o.c)((function(e){return e.home})).searchResults,n=Object(o.b)(),r=function(t,r){t!==e&&(!function(e,t){n(y.s(e,t))}(t,r),n(y.d()))},c=t.map((function(e){var t=e.LocalizedName,n=e.Key;return a.a.createElement("li",{className:"searchCity__item",onClick:function(){return r(t,n)},key:n},t)}));return a.a.createElement("ul",{className:"searchCity__results"},c)},ee=function(e){return a.a.createElement("div",{className:"searchCity"},a.a.createElement("div",{className:"searchCity-wrapper"},a.a.createElement(Q,null),a.a.createElement(Z,null)))},te=n(41),ne=n(22),re=function(e){return a.a.createElement("header",{className:"cityHeader"},a.a.createElement("div",{className:"cityHeader__details"},a.a.createElement("p",{className:"cityHeader__details-title"},e.cCityName),a.a.createElement("div",{className:"cityHeader__details-container"},a.a.createElement("img",{className:"cityHeader__icon",src:Object(ne.a)(e.cWeatherIcon),alt:"dsd"}),a.a.createElement("div",{className:"cityHeader__details-subContainer"},a.a.createElement("p",{className:"cityHeader__details-temp"},e.cWeatherTemp,"\xb0"),a.a.createElement("div",{className:"cityHeader__details-text"},a.a.createElement("em",null,e.cWeatherText))))),a.a.createElement(te.a,{cityKey:e.cCityKey,cityName:e.cCityName,height:"7rem",width:"7rem"}))},ae=function(e){return(1.8*e+32).toFixed(0)},ce=a.a.memo((function(e){var t=e.dailyForecast,n=t.Temperature,r=t.Day,c=t.Night,i=e.dailyForecast.Date,u=Object(ne.a)(r.Icon),s=Object(ne.a)(c.Icon),l=Math.round(n.Maximum.Value),m=Math.round(n.Minimum.Value),f=new Date(i).getDay(),d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][f];return Object(o.c)((function(e){return e.userSettings})).metric||(l=ae(l),m=ae(m)),a.a.createElement("div",{className:"cityForecast__day"},a.a.createElement("p",{className:"cityForecast__day-title"},d),a.a.createElement("div",{className:"cityForecast__day-container"},a.a.createElement("div",{className:"cityForecast__details"},a.a.createElement("p",{className:"cityForecast__details-title"},"Day:"),a.a.createElement("p",{className:"cityForecast__details-temp"},l,"\xb0"),a.a.createElement("img",{className:"cityForecast__icon",src:u,alt:"dsd"})),a.a.createElement("div",{className:"cityForecast__details"},a.a.createElement("p",{className:"cityForecast__details-title"},"Night:"),a.a.createElement("p",{className:"cityForecast__details-temp"},m,"\xb0"),a.a.createElement("img",{className:"cityForecast__details-icon",src:s,alt:"dsd"}))))})),ie=a.a.memo((function(){console.log("CityForecast RENDER");var e=Object(o.c)((function(e){return e.home})).forecasts,t=null;if(e){var n=e.Headline,r=e.DailyForecasts;t=a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",{className:"cityForecast__title"},a.a.createElement("em",null,n.Text)),a.a.createElement("div",{className:"cityForecast__forecasts"},r.map((function(e){return a.a.createElement(ce,{key:e.EpochDate,dailyForecast:e})}))))}return a.a.createElement("div",{className:"cityForecast"},t)})),oe=n(42),ue=function(){console.log("currentCity RENDER");var e=Object(o.c)((function(e){return e.home})),t=e.selectedCityKey,n=e.selectedCityName,c=e.fetchCityDataLoading,i=Object(o.c)((function(e){return e.home.currentWeather})),u=Object(o.c)((function(e){return e.userSettings})).metric,s=Object(o.b)(),l=Object(r.useCallback)((function(e){return s(y.e(e))}),[s]);Object(r.useEffect)((function(){t&&l(t)}),[l,t]);var m=a.a.createElement(oe.a,null);if(!c){var f=i[0],d=f.WeatherText,v=f.WeatherIcon,p=f.Temperature,E=p.Metric.Value;u||(E=p.Imperial.Value),m=a.a.createElement(a.a.Fragment,null,a.a.createElement(re,{cWeatherText:d,cWeatherIcon:v,cWeatherTemp:E,cCityName:n,cCityKey:t}),a.a.createElement(ie,null))}return a.a.createElement("div",{className:"currentCity"},a.a.createElement("div",{className:"currentCity__box"},m))},se=n(43),le=Object(se.a)((function(e){return console.log("home Render"),a.a.createElement("div",{className:"home"},a.a.createElement(ee,null),a.a.createElement(ue,null))}),v.a),me=function(){return a.a.createElement("ul",{className:"navigation__links"},a.a.createElement("li",{className:"navigation__item"},a.a.createElement(W.c,{to:"/",exact:!0,className:"navigation__link",activeClassName:"navigation__item--active"},"Home")),a.a.createElement("li",{className:"navigation__item"},a.a.createElement(W.c,{to:"/favorites",className:"navigation__link",activeClassName:"navigation__item--active"},"Favorites")))},fe=function(){return a.a.createElement(W.b,{className:"navigation__logo",to:"/"},a.a.createElement("h1",null,"Herolo Weather"))},de=n(50),ye=n.n(de),ve=n(51),pe=n.n(ve),Ee=function(e){var t=Object(o.b)(),n=Object(o.c)((function(e){return e.userSettings.metric})),r=ye.a;return n||(r=pe.a),a.a.createElement("div",{className:"tempCheckBox",onClick:function(){t(y.b())}},a.a.createElement("p",{className:"tempCheckBox__title"},"Temperature"),a.a.createElement("img",{className:"tempCheckBox__img",src:r,alt:"Temp Selector"}))},he=function(e){return a.a.createElement("div",{className:"navigation"},a.a.createElement(a.a.Fragment,null,a.a.createElement(fe,null),a.a.createElement(me,null),a.a.createElement("div",{className:"navigation__settings"},a.a.createElement(Ee,null))))},be=function(){return console.log("Footer RENDER"),a.a.createElement("div",{className:"footer"},a.a.createElement("p",{className:"footer__title"},"Developed by Yaron Sultan - 2019"),a.a.createElement("div",{className:"footer__media"},a.a.createElement("a",{className:"footer__icon footer__icon--linkedin",href:"https://www.linkedin.com/in/yaron-sultan-b52bb9164/"},"\xa0"),a.a.createElement("a",{className:"footer__icon footer__icon--github",href:"https://github.com/Sultanyaron"},"\xa0")))},_e=function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(he,null),e.children,a.a.createElement(be,null))},ge=a.a.lazy((function(){return n.e(3).then(n.bind(null,83))})),Oe=function(e){var t=Object(o.b)(),n=Object(r.useCallback)((function(){return t(y.q())}),[t]),c=Object(r.useCallback)((function(){return t(y.p())}),[t]);Object(r.useEffect)((function(){n()}),[n]),Object(r.useEffect)((function(){c()}),[c]);var i=a.a.createElement($.d,null,a.a.createElement($.b,{path:"/favorites",component:ge}),a.a.createElement($.b,{path:"/",component:le}),a.a.createElement($.a,{to:"/"}));return a.a.createElement("div",{className:"App"},a.a.createElement(_e,null,a.a.createElement(r.Suspense,{fallback:a.a.createElement("p",null,"Loading...")}," ",a.a.createElement("main",{className:"mainContainer"},i),"  ")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ne=u.d,Ce=Object(u.c)({home:J,favorites:B,userSettings:X}),je=Object(P.a)(),Fe=Object(u.e)(Ce,Ne(Object(u.a)(q.a,je)));je.run(K),je.run(I);var Te=a.a.createElement(o.a,{store:Fe},a.a.createElement(W.a,{basename:"/Weather-App-v2"},a.a.createElement(Oe,null)));i.a.render(Te,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[53,1,2]]]);
//# sourceMappingURL=main.909ed030.chunk.js.map