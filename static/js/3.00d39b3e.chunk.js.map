{"version":3,"sources":["components/Favorite/Favorite.js","containers/Favorites/Favorites.js"],"names":["Favorite","React","memo","props","cityData","data","WeatherIcon","Temperature","WeatherText","metric","useSelector","state","userSettings","icon","getIconPath","dispatch","useDispatch","temp","Math","round","Metric","Value","Imperial","className","FavoriteHeart","cityKey","cityName","height","width","onClick","actions","history","push","src","alt","withRouter","withErrorHandler","fetchFavoritesLoading","favorites","fetchedFavorites","favoritesCityKeys","onFetchFavoritesData","useCallback","onClearFetchedFavorites","i","length","useEffect","favoriteList","Spinner","map","fav","currentCityData","filter","item","key","axios"],"mappings":"oMAOMA,EAAWC,IAAMC,MAAK,SAACC,GAAW,IAAD,EACeA,EAAMC,SAASC,KAAK,GAA9DC,EAD2B,EAC3BA,YAAaC,EADc,EACdA,YAAaC,EADC,EACDA,YAC1BC,EAAWC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,gBAAtCH,OACFI,EAAOC,YAAYR,GACnBS,EAAWC,cAEbC,EAAOC,KAAKC,MAAMZ,EAAYa,OAAOC,OAEpCZ,IACDQ,EAAOV,EAAYe,SAASD,OAQhC,OACI,yBAAKE,UAAU,mBACX,kBAACC,EAAA,EAAD,CACIC,QAAStB,EAAMsB,QACfC,SAAUvB,EAAMuB,SAChBC,OAAO,OACPC,MAAM,SACV,uBAAGL,UAAU,mBAAmBM,QAZhB,WAPGd,EAASe,IAA2B3B,EAAMuB,SAAUvB,EAAMsB,UASjFtB,EAAM4B,QAAQC,KAAK,OAU4C7B,EAAMuB,UACjE,yBAAKH,UAAU,sBACX,yBAAKA,UAAU,kBAAkBU,IAAKpB,EAAMqB,IAAK1B,IACjD,yBAAKe,UAAU,wBACX,uBAAGA,UAAU,mBAAmBN,EAAhC,QACA,uBAAGM,UAAU,mBAAmBf,SAOrC2B,cAAWnC,G,wBCcXoC,uBAjDG,WAQd,IARqB,IACbC,EAA0B3B,aAAY,SAAAC,GAAK,OAAIA,EAAM2B,aAArDD,sBADY,EAEoB3B,aAAY,SAAAC,GAAK,OAAIA,EAAM2B,aAA3DA,EAFY,EAEZA,UAAWC,EAFC,EAEDA,iBACbC,EAAoB,GACpBzB,EAAWC,cACXyB,EAAuBC,uBAAY,SAACF,GAAD,OAAuBzB,EAASe,IAAuBU,MAAoB,CAACzB,IAC/G4B,EAA0BD,uBAAY,kBAAM3B,EAASe,SAAiC,CAACf,IAEpF6B,EAAI,EAAGA,EAAIN,EAAUO,OAAQD,IAClCJ,EAAkBR,KAAKM,EAAUM,GAAGnB,SAGxCqB,qBAAU,WACNL,EAAqBD,KACtB,CAACC,IAEJK,qBAAU,WACN,OAAO,WACHH,OAEL,CAACA,IAEJ,IAAII,EAAe,kBAACC,EAAA,EAAD,MAkBnB,OAjBKX,IACDU,EACIT,EAAUW,KAAI,SAAAC,GACV,IAAMC,EAAkBZ,EAAiBa,QAAO,SAAAC,GAAI,OAAIH,EAAIzB,UAAY4B,EAAK5B,WAAS,GACtF,OAAO,kBAAC,EAAD,CACH6B,IAAKJ,EAAIzB,QACTrB,SAAU+C,EACVzB,SAAUwB,EAAIxB,SACdD,QAASyB,EAAIzB,cAKJ,IAArBa,EAAUO,SACVE,EAAe,wBAAIxB,UAAU,oBAAd,0BAAwD,6BAAxD,yBAIf,yBAAKA,UAAU,aACX,yBAAKA,UAAU,mBACVwB,MAM0BQ","file":"static/js/3.00d39b3e.chunk.js","sourcesContent":["import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { getIconPath } from '../../utils/getIconPath';\r\nimport FavoriteHeart from '../UI/FavoriteHeart/FavoriteHeart';\r\nimport * as actions from '../../store/actions/rootActions';\r\n\r\nconst Favorite = React.memo((props) => {\r\n    const { WeatherIcon, Temperature, WeatherText } = props.cityData.data[0];\r\n    const { metric } = useSelector(state => state.userSettings);\r\n    const icon = getIconPath(WeatherIcon);\r\n    const dispatch = useDispatch();\r\n    const onSelectCity = () => dispatch(actions.updateSelectedCity(props.cityName, props.cityKey))\r\n    let temp = Math.round(Temperature.Metric.Value);\r\n\r\n    if (!metric) {\r\n        temp = Temperature.Imperial.Value\r\n    };\r\n    \r\n    const redirectHandler = () => {\r\n        onSelectCity();\r\n        props.history.push('/');\r\n    } ;\r\n\r\n    return (\r\n        <div className='favorites__item'>\r\n            <FavoriteHeart \r\n                cityKey={props.cityKey}\r\n                cityName={props.cityName}\r\n                height='4rem'\r\n                width='4rem' />\r\n            <p className='favorites__title' onClick={redirectHandler}>{props.cityName}</p>\r\n            <div className='favorites__details'>\r\n                <img className='favorites__icon' src={icon} alt={WeatherText} />\r\n                <div className='favorites__container'>\r\n                    <p className='favorites__temp'>{temp}Â°</p>\r\n                    <p className='favorites__text'>{WeatherText}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default withRouter(Favorite);","import React, { useEffect, useCallback } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Favorite from '../../components/Favorite/Favorite';\r\nimport * as actions from '../../store/actions/rootActions';\r\nimport Spinner from '../../components/UI/Spinner/Spinner';\r\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler';\r\nimport axios from '../../utils/axios-weather';\r\n\r\nconst Favorites = () => {\r\n    const { fetchFavoritesLoading } = useSelector(state => state.favorites)\r\n    const { favorites, fetchedFavorites } = useSelector(state => state.favorites);\r\n    const favoritesCityKeys = [];\r\n    const dispatch = useDispatch();\r\n    const onFetchFavoritesData = useCallback((favoritesCityKeys) => dispatch(actions.fetchFavorites(favoritesCityKeys)),[dispatch]);\r\n    const onClearFetchedFavorites = useCallback(() => dispatch(actions.clearFetchedFavorites()),[dispatch]);\r\n\r\n    for (let i = 0; i < favorites.length; i++) {\r\n        favoritesCityKeys.push(favorites[i].cityKey);\r\n    };\r\n\r\n    useEffect(() => {\r\n        onFetchFavoritesData(favoritesCityKeys);\r\n    }, [onFetchFavoritesData]);\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            onClearFetchedFavorites();\r\n        };\r\n    }, [onClearFetchedFavorites]);\r\n    \r\n    let favoriteList = <Spinner />;\r\n    if (!fetchFavoritesLoading) {\r\n        favoriteList= (\r\n            favorites.map(fav => {\r\n                const currentCityData = fetchedFavorites.filter(item => fav.cityKey === item.cityKey)[0]\r\n                return <Favorite\r\n                    key={fav.cityKey}\r\n                    cityData={currentCityData}\r\n                    cityName={fav.cityName}\r\n                    cityKey={fav.cityKey} />\r\n            })\r\n        );\r\n    };\r\n    \r\n    if (favorites.length === 0) {\r\n        favoriteList = <h1 className='favorites__empty'>Your favorites is empty<br/>Add them at Homepage</h1>\r\n    };\r\n\r\n    return (\r\n        <div className='favorites'>\r\n            <div className='favorites__list'>\r\n                {favoriteList}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default withErrorHandler(Favorites, axios);\r\n"],"sourceRoot":""}